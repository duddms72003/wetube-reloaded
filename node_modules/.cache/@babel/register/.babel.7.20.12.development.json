{"{\"assumptions\":{},\"sourceRoot\":\"/Users/jane/Desktop/파카/develop_projects/wetube/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jane/Desktop/파카/develop_projects/wetube\",\"filename\":\"/Users/jane/Desktop/파카/develop_projects/wetube/src/init.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jane/Desktop/파카/develop_projects/wetube\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nrequire(\"dotenv/config\");\nrequire(\"./db\");\nrequire(\"./models/Video\");\nrequire(\"./models/User\");\nrequire(\"./models/Comment\");\nvar _server = _interopRequireDefault(require(\"./server\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar PORT = 4000;\nvar handleListening = function handleListening() {\n  return console.log(\"✅\", \"server listening on port http://localhost:\".concat(PORT));\n};\n_server[\"default\"].listen(PORT, handleListening);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQT1JUIiwiaGFuZGxlTGlzdGVuaW5nIiwiY29uc29sZSIsImxvZyIsImFwcCIsImxpc3RlbiJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2phbmUvRGVza3RvcC/hhJHhhaHhhI/hhaEvZGV2ZWxvcF9wcm9qZWN0cy93ZXR1YmUvc3JjLyIsInNvdXJjZXMiOlsiaW5pdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXCJkb3RlbnYvY29uZmlnXCI7XG5pbXBvcnQgXCIuL2RiXCI7XG5pbXBvcnQgXCIuL21vZGVscy9WaWRlb1wiO1xuaW1wb3J0IFwiLi9tb2RlbHMvVXNlclwiO1xuaW1wb3J0IFwiLi9tb2RlbHMvQ29tbWVudFwiO1xuaW1wb3J0IGFwcCBmcm9tIFwiLi9zZXJ2ZXJcIjtcblxuY29uc3QgUE9SVCA9IDQwMDA7XG5cbmNvbnN0IGhhbmRsZUxpc3RlbmluZyA9ICgpID0+XG4gIGNvbnNvbGUubG9nKFwi4pyFXCIsIGBzZXJ2ZXIgbGlzdGVuaW5nIG9uIHBvcnQgaHR0cDovL2xvY2FsaG9zdDoke1BPUlR9YCk7XG5cbmFwcC5saXN0ZW4oUE9SVCwgaGFuZGxlTGlzdGVuaW5nKTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBMkI7QUFFM0IsSUFBTUEsSUFBSSxHQUFHLElBQUk7QUFFakIsSUFBTUMsZUFBZSxHQUFHLFNBQWxCQSxlQUFlO0VBQUEsT0FDbkJDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLEdBQUcsc0RBQStDSCxJQUFJLEVBQUc7QUFBQTtBQUV2RUksa0JBQUcsQ0FBQ0MsTUFBTSxDQUFDTCxJQUFJLEVBQUVDLGVBQWUsQ0FBQyJ9","map":{"version":3,"names":["PORT","handleListening","console","log","app","listen"],"sourceRoot":"/Users/jane/Desktop/파카/develop_projects/wetube/src/","sources":["init.js"],"sourcesContent":["import \"dotenv/config\";\nimport \"./db\";\nimport \"./models/Video\";\nimport \"./models/User\";\nimport \"./models/Comment\";\nimport app from \"./server\";\n\nconst PORT = 4000;\n\nconst handleListening = () =>\n  console.log(\"✅\", `server listening on port http://localhost:${PORT}`);\n\napp.listen(PORT, handleListening);\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AAA2B;AAE3B,IAAMA,IAAI,GAAG,IAAI;AAEjB,IAAMC,eAAe,GAAG,SAAlBA,eAAe;EAAA,OACnBC,OAAO,CAACC,GAAG,CAAC,GAAG,sDAA+CH,IAAI,EAAG;AAAA;AAEvEI,kBAAG,CAACC,MAAM,CAACL,IAAI,EAAEC,eAAe,CAAC"}},"mtime":1683020099402},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jane/Desktop/파카/develop_projects/wetube/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jane/Desktop/파카/develop_projects/wetube\",\"filename\":\"/Users/jane/Desktop/파카/develop_projects/wetube/src/db.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jane/Desktop/파카/develop_projects/wetube\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n_mongoose[\"default\"].set(\"strictQuery\", true);\n_mongoose[\"default\"].connect(process.env.DB_URL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n});\nvar db = _mongoose[\"default\"].connection;\nvar handleOpen = function handleOpen() {\n  return console.log(\"✅ Connected to DB\");\n};\nvar handleError = function handleError(error) {\n  return console.log(\"DB Error\", error);\n};\ndb.on(\"error\", handleError);\ndb.once(\"open\", handleOpen);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInNldCIsImNvbm5lY3QiLCJwcm9jZXNzIiwiZW52IiwiREJfVVJMIiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwiZGIiLCJjb25uZWN0aW9uIiwiaGFuZGxlT3BlbiIsImNvbnNvbGUiLCJsb2ciLCJoYW5kbGVFcnJvciIsImVycm9yIiwib24iLCJvbmNlIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvamFuZS9EZXNrdG9wL+GEkeGFoeGEj+GFoS9kZXZlbG9wX3Byb2plY3RzL3dldHViZS9zcmMvIiwic291cmNlcyI6WyJkYi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5cbm1vbmdvb3NlLnNldChcInN0cmljdFF1ZXJ5XCIsIHRydWUpO1xubW9uZ29vc2UuY29ubmVjdChwcm9jZXNzLmVudi5EQl9VUkwsIHtcbiAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXG59KTtcblxuY29uc3QgZGIgPSBtb25nb29zZS5jb25uZWN0aW9uO1xuXG5jb25zdCBoYW5kbGVPcGVuID0gKCkgPT4gY29uc29sZS5sb2coXCLinIUgQ29ubmVjdGVkIHRvIERCXCIpO1xuY29uc3QgaGFuZGxlRXJyb3IgPSAoZXJyb3IpID0+IGNvbnNvbGUubG9nKFwiREIgRXJyb3JcIiwgZXJyb3IpO1xuXG5kYi5vbihcImVycm9yXCIsIGhhbmRsZUVycm9yKTtcbmRiLm9uY2UoXCJvcGVuXCIsIGhhbmRsZU9wZW4pO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQWdDO0FBRWhDQSxvQkFBUSxDQUFDQyxHQUFHLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQztBQUNqQ0Qsb0JBQVEsQ0FBQ0UsT0FBTyxDQUFDQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsTUFBTSxFQUFFO0VBQ25DQyxlQUFlLEVBQUUsSUFBSTtFQUNyQkMsa0JBQWtCLEVBQUU7QUFDdEIsQ0FBQyxDQUFDO0FBRUYsSUFBTUMsRUFBRSxHQUFHUixvQkFBUSxDQUFDUyxVQUFVO0FBRTlCLElBQU1DLFVBQVUsR0FBRyxTQUFiQSxVQUFVO0VBQUEsT0FBU0MsT0FBTyxDQUFDQyxHQUFHLENBQUMsbUJBQW1CLENBQUM7QUFBQTtBQUN6RCxJQUFNQyxXQUFXLEdBQUcsU0FBZEEsV0FBVyxDQUFJQyxLQUFLO0VBQUEsT0FBS0gsT0FBTyxDQUFDQyxHQUFHLENBQUMsVUFBVSxFQUFFRSxLQUFLLENBQUM7QUFBQTtBQUU3RE4sRUFBRSxDQUFDTyxFQUFFLENBQUMsT0FBTyxFQUFFRixXQUFXLENBQUM7QUFDM0JMLEVBQUUsQ0FBQ1EsSUFBSSxDQUFDLE1BQU0sRUFBRU4sVUFBVSxDQUFDIn0=","map":{"version":3,"names":["mongoose","set","connect","process","env","DB_URL","useNewUrlParser","useUnifiedTopology","db","connection","handleOpen","console","log","handleError","error","on","once"],"sourceRoot":"/Users/jane/Desktop/파카/develop_projects/wetube/src/","sources":["db.js"],"sourcesContent":["import mongoose from \"mongoose\";\n\nmongoose.set(\"strictQuery\", true);\nmongoose.connect(process.env.DB_URL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n});\n\nconst db = mongoose.connection;\n\nconst handleOpen = () => console.log(\"✅ Connected to DB\");\nconst handleError = (error) => console.log(\"DB Error\", error);\n\ndb.on(\"error\", handleError);\ndb.once(\"open\", handleOpen);\n"],"mappings":";;AAAA;AAAgC;AAEhCA,oBAAQ,CAACC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC;AACjCD,oBAAQ,CAACE,OAAO,CAACC,OAAO,CAACC,GAAG,CAACC,MAAM,EAAE;EACnCC,eAAe,EAAE,IAAI;EACrBC,kBAAkB,EAAE;AACtB,CAAC,CAAC;AAEF,IAAMC,EAAE,GAAGR,oBAAQ,CAACS,UAAU;AAE9B,IAAMC,UAAU,GAAG,SAAbA,UAAU;EAAA,OAASC,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;AAAA;AACzD,IAAMC,WAAW,GAAG,SAAdA,WAAW,CAAIC,KAAK;EAAA,OAAKH,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEE,KAAK,CAAC;AAAA;AAE7DN,EAAE,CAACO,EAAE,CAAC,OAAO,EAAEF,WAAW,CAAC;AAC3BL,EAAE,CAACQ,IAAI,CAAC,MAAM,EAAEN,UAAU,CAAC"}},"mtime":1678280530373},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jane/Desktop/파카/develop_projects/wetube/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jane/Desktop/파카/develop_projects/wetube\",\"filename\":\"/Users/jane/Desktop/파카/develop_projects/wetube/src/models/Video.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jane/Desktop/파카/develop_projects/wetube\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n// export const formatHashtags = (hashtags) =>\n//   hashtags.split(\",\").map((word) => (word.startsWith(\"#\") ? word : `#${word}`));\n\nvar videoSchema = new _mongoose[\"default\"].Schema({\n  title: {\n    type: String,\n    required: true,\n    trim: true,\n    maxLength: 80\n  },\n  //근데 title이랑 description에 default를 안준거는 뭐가 기준이 될 줄 알고 기본값을 주어주나! 뭐가 제목이 되고 뭐가 설명이 될지 아무도 머르는뎅 / 그래서 기본값 적용을 따로 안해준거임 / trim 기능 : 빈칸(띄어쓰기) 없애기\n  fileUrl: {\n    type: String,\n    required: true\n  },\n  thumbUrl: {\n    type: String,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true,\n    trim: true,\n    minLength: 2\n  },\n  createdAt: {\n    type: Date,\n    \"default\": Date.now,\n    required: true\n  },\n  //Date.now 에서 () 를 안쓴 이유 = 우리가 video를 만들었을때만 해당 함수를 실행시키고싶어서\n  //날짜도 오늘 날짜를 기본으로 설정하고 싶으니까 defalut 해준거임\n  hashtags: [{\n    type: String,\n    trim: true\n  }],\n  meta: {\n    views: {\n      type: Number,\n      \"default\": 0,\n      required: true\n    } //default로 기본값을 지정해줌으로서 굳이 다시 Video.create할 때(db에 저장할 떄) 한 번 더 정보를 전달해주지 않아도 여기서 default로 지정해줬기 때문에 굳이 다시 내보내지 않아도 되는거.\n  },\n\n  comments: [{\n    type: _mongoose[\"default\"].Schema.Types.ObjectId,\n    required: true,\n    ref: \"Comment\"\n  }],\n  owner: {\n    type: _mongoose[\"default\"].Schema.Types.ObjectId,\n    required: true,\n    ref: \"User\"\n  }\n});\nvideoSchema[\"static\"](\"formatHashtags\", function (hashtags) {\n  return hashtags.split(\",\").map(function (word) {\n    return word.startsWith(\"#\") ? word : \"#\".concat(word);\n  });\n});\n\n//\"Video, 모델 이름으로 아무거나 지어준거임 \"\nvar Video = _mongoose[\"default\"].model(\"Video\", videoSchema);\nvar _default = Video;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2aWRlb1NjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ0cmltIiwibWF4TGVuZ3RoIiwiZmlsZVVybCIsInRodW1iVXJsIiwiZGVzY3JpcHRpb24iLCJtaW5MZW5ndGgiLCJjcmVhdGVkQXQiLCJEYXRlIiwibm93IiwiaGFzaHRhZ3MiLCJtZXRhIiwidmlld3MiLCJOdW1iZXIiLCJjb21tZW50cyIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJvd25lciIsInNwbGl0IiwibWFwIiwid29yZCIsInN0YXJ0c1dpdGgiLCJWaWRlbyIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvamFuZS9EZXNrdG9wL+GEkeGFoeGEj+GFoS9kZXZlbG9wX3Byb2plY3RzL3dldHViZS9zcmMvbW9kZWxzLyIsInNvdXJjZXMiOlsiVmlkZW8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuXG4vLyBleHBvcnQgY29uc3QgZm9ybWF0SGFzaHRhZ3MgPSAoaGFzaHRhZ3MpID0+XG4vLyAgIGhhc2h0YWdzLnNwbGl0KFwiLFwiKS5tYXAoKHdvcmQpID0+ICh3b3JkLnN0YXJ0c1dpdGgoXCIjXCIpID8gd29yZCA6IGAjJHt3b3JkfWApKTtcblxuY29uc3QgdmlkZW9TY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgdGl0bGU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgdHJpbTogdHJ1ZSwgbWF4TGVuZ3RoOiA4MCB9LCAvL+q3vOuNsCB0aXRsZeydtOuekSBkZXNjcmlwdGlvbuyXkCBkZWZhdWx066W8IOyViOykgOqxsOuKlCDrrZDqsIAg6riw7KSA7J20IOuQoCDspIQg7JWM6rOgIOq4sOuzuOqwkuydhCDso7zslrTso7zrgpghIOutkOqwgCDsoJzrqqnsnbQg65CY6rOgIOutkOqwgCDshKTrqoXsnbQg65Cg7KeAIOyVhOustOuPhCDrqLjrpbTripTrjoUgLyDqt7jrnpjshJwg6riw67O46rCSIOyggeyaqeydhCDrlLDroZwg7JWI7ZW07KSA6rGw7J6EIC8gdHJpbSDquLDriqUgOiDruYjsubgo652E7Ja07JOw6riwKSDsl4bslaDquLBcbiAgZmlsZVVybDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIHRodW1iVXJsOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgZGVzY3JpcHRpb246IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgdHJpbTogdHJ1ZSwgbWluTGVuZ3RoOiAyIH0sXG4gIGNyZWF0ZWRBdDogeyB0eXBlOiBEYXRlLCBkZWZhdWx0OiBEYXRlLm5vdywgcmVxdWlyZWQ6IHRydWUgfSwgLy9EYXRlLm5vdyDsl5DshJwgKCkg66W8IOyViOyTtCDsnbTsnKAgPSDsmrDrpqzqsIAgdmlkZW/rpbwg66eM65Ok7JeI7J2E65WM66eMIO2VtOuLuSDtlajsiJjrpbwg7Iuk7ZaJ7Iuc7YKk6rOg7Iu27Ja07IScXG4gIC8v64Kg7Kec64+EIOyYpOuKmCDrgqDsp5zrpbwg6riw67O47Jy866GcIOyEpOygle2VmOqzoCDsi7bsnLzri4jquYwgZGVmYWx1dCDtlbTspIDqsbDsnoRcbiAgaGFzaHRhZ3M6IFt7IHR5cGU6IFN0cmluZywgdHJpbTogdHJ1ZSB9XSxcbiAgbWV0YToge1xuICAgIHZpZXdzOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCwgcmVxdWlyZWQ6IHRydWUgfSwgLy9kZWZhdWx066GcIOq4sOuzuOqwkuydhCDsp4DsoJXtlbTspIzsnLzroZzshJwg6rWz7J20IOuLpOyLnCBWaWRlby5jcmVhdGXtlaAg65WMKGRi7JeQIOyggOyepe2VoCDrloQpIO2VnCDrsogg642UIOygleuztOulvCDsoITri6ztlbTso7zsp4Ag7JWK7JWE64+EIOyXrOq4sOyEnCBkZWZhdWx066GcIOyngOygle2VtOykrOq4sCDrlYzrrLjsl5Ag6rWz7J20IOuLpOyLnCDrgrTrs7TrgrTsp4Ag7JWK7JWE64+EIOuQmOuKlOqxsC5cbiAgfSxcbiAgY29tbWVudHM6IFtcbiAgICB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVxdWlyZWQ6IHRydWUsIHJlZjogXCJDb21tZW50XCIgfSxcbiAgXSxcbiAgb3duZXI6IHsgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZXF1aXJlZDogdHJ1ZSwgcmVmOiBcIlVzZXJcIiB9LFxufSk7XG5cbnZpZGVvU2NoZW1hLnN0YXRpYyhcImZvcm1hdEhhc2h0YWdzXCIsIGZ1bmN0aW9uIChoYXNodGFncykge1xuICByZXR1cm4gaGFzaHRhZ3NcbiAgICAuc3BsaXQoXCIsXCIpXG4gICAgLm1hcCgod29yZCkgPT4gKHdvcmQuc3RhcnRzV2l0aChcIiNcIikgPyB3b3JkIDogYCMke3dvcmR9YCkpO1xufSk7XG5cbi8vXCJWaWRlbywg66qo6424IOydtOumhOycvOuhnCDslYTrrLTqsbDrgpgg7KeA7Ja07KSA6rGw7J6EIFwiXG5jb25zdCBWaWRlbyA9IG1vbmdvb3NlLm1vZGVsKFwiVmlkZW9cIiwgdmlkZW9TY2hlbWEpO1xuXG5leHBvcnQgZGVmYXVsdCBWaWRlbztcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFBZ0M7QUFFaEM7QUFDQTs7QUFFQSxJQUFNQSxXQUFXLEdBQUcsSUFBSUMsb0JBQVEsQ0FBQ0MsTUFBTSxDQUFDO0VBQ3RDQyxLQUFLLEVBQUU7SUFBRUMsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBRSxJQUFJO0lBQUVDLElBQUksRUFBRSxJQUFJO0lBQUVDLFNBQVMsRUFBRTtFQUFHLENBQUM7RUFBRTtFQUNwRUMsT0FBTyxFQUFFO0lBQUVMLElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQ3pDSSxRQUFRLEVBQUU7SUFBRU4sSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFDMUNLLFdBQVcsRUFBRTtJQUFFUCxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFLElBQUk7SUFBRUMsSUFBSSxFQUFFLElBQUk7SUFBRUssU0FBUyxFQUFFO0VBQUUsQ0FBQztFQUN2RUMsU0FBUyxFQUFFO0lBQUVULElBQUksRUFBRVUsSUFBSTtJQUFFLFdBQVNBLElBQUksQ0FBQ0MsR0FBRztJQUFFVCxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQUU7RUFDOUQ7RUFDQVUsUUFBUSxFQUFFLENBQUM7SUFBRVosSUFBSSxFQUFFQyxNQUFNO0lBQUVFLElBQUksRUFBRTtFQUFLLENBQUMsQ0FBQztFQUN4Q1UsSUFBSSxFQUFFO0lBQ0pDLEtBQUssRUFBRTtNQUFFZCxJQUFJLEVBQUVlLE1BQU07TUFBRSxXQUFTLENBQUM7TUFBRWIsUUFBUSxFQUFFO0lBQUssQ0FBQyxDQUFFO0VBQ3ZELENBQUM7O0VBQ0RjLFFBQVEsRUFBRSxDQUNSO0lBQUVoQixJQUFJLEVBQUVILG9CQUFRLENBQUNDLE1BQU0sQ0FBQ21CLEtBQUssQ0FBQ0MsUUFBUTtJQUFFaEIsUUFBUSxFQUFFLElBQUk7SUFBRWlCLEdBQUcsRUFBRTtFQUFVLENBQUMsQ0FDekU7RUFDREMsS0FBSyxFQUFFO0lBQUVwQixJQUFJLEVBQUVILG9CQUFRLENBQUNDLE1BQU0sQ0FBQ21CLEtBQUssQ0FBQ0MsUUFBUTtJQUFFaEIsUUFBUSxFQUFFLElBQUk7SUFBRWlCLEdBQUcsRUFBRTtFQUFPO0FBQzdFLENBQUMsQ0FBQztBQUVGdkIsV0FBVyxVQUFPLENBQUMsZ0JBQWdCLEVBQUUsVUFBVWdCLFFBQVEsRUFBRTtFQUN2RCxPQUFPQSxRQUFRLENBQ1pTLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FDVkMsR0FBRyxDQUFDLFVBQUNDLElBQUk7SUFBQSxPQUFNQSxJQUFJLENBQUNDLFVBQVUsQ0FBQyxHQUFHLENBQUMsR0FBR0QsSUFBSSxjQUFPQSxJQUFJLENBQUU7RUFBQSxDQUFDLENBQUM7QUFDOUQsQ0FBQyxDQUFDOztBQUVGO0FBQ0EsSUFBTUUsS0FBSyxHQUFHNUIsb0JBQVEsQ0FBQzZCLEtBQUssQ0FBQyxPQUFPLEVBQUU5QixXQUFXLENBQUM7QUFBQyxlQUVwQzZCLEtBQUs7QUFBQSJ9","map":{"version":3,"names":["videoSchema","mongoose","Schema","title","type","String","required","trim","maxLength","fileUrl","thumbUrl","description","minLength","createdAt","Date","now","hashtags","meta","views","Number","comments","Types","ObjectId","ref","owner","split","map","word","startsWith","Video","model"],"sourceRoot":"/Users/jane/Desktop/파카/develop_projects/wetube/src/models/","sources":["Video.js"],"sourcesContent":["import mongoose from \"mongoose\";\n\n// export const formatHashtags = (hashtags) =>\n//   hashtags.split(\",\").map((word) => (word.startsWith(\"#\") ? word : `#${word}`));\n\nconst videoSchema = new mongoose.Schema({\n  title: { type: String, required: true, trim: true, maxLength: 80 }, //근데 title이랑 description에 default를 안준거는 뭐가 기준이 될 줄 알고 기본값을 주어주나! 뭐가 제목이 되고 뭐가 설명이 될지 아무도 머르는뎅 / 그래서 기본값 적용을 따로 안해준거임 / trim 기능 : 빈칸(띄어쓰기) 없애기\n  fileUrl: { type: String, required: true },\n  thumbUrl: { type: String, required: true },\n  description: { type: String, required: true, trim: true, minLength: 2 },\n  createdAt: { type: Date, default: Date.now, required: true }, //Date.now 에서 () 를 안쓴 이유 = 우리가 video를 만들었을때만 해당 함수를 실행시키고싶어서\n  //날짜도 오늘 날짜를 기본으로 설정하고 싶으니까 defalut 해준거임\n  hashtags: [{ type: String, trim: true }],\n  meta: {\n    views: { type: Number, default: 0, required: true }, //default로 기본값을 지정해줌으로서 굳이 다시 Video.create할 때(db에 저장할 떄) 한 번 더 정보를 전달해주지 않아도 여기서 default로 지정해줬기 때문에 굳이 다시 내보내지 않아도 되는거.\n  },\n  comments: [\n    { type: mongoose.Schema.Types.ObjectId, required: true, ref: \"Comment\" },\n  ],\n  owner: { type: mongoose.Schema.Types.ObjectId, required: true, ref: \"User\" },\n});\n\nvideoSchema.static(\"formatHashtags\", function (hashtags) {\n  return hashtags\n    .split(\",\")\n    .map((word) => (word.startsWith(\"#\") ? word : `#${word}`));\n});\n\n//\"Video, 모델 이름으로 아무거나 지어준거임 \"\nconst Video = mongoose.model(\"Video\", videoSchema);\n\nexport default Video;\n"],"mappings":";;;;;;AAAA;AAAgC;AAEhC;AACA;;AAEA,IAAMA,WAAW,GAAG,IAAIC,oBAAQ,CAACC,MAAM,CAAC;EACtCC,KAAK,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE,IAAI;IAAEC,IAAI,EAAE,IAAI;IAAEC,SAAS,EAAE;EAAG,CAAC;EAAE;EACpEC,OAAO,EAAE;IAAEL,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACzCI,QAAQ,EAAE;IAAEN,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAC1CK,WAAW,EAAE;IAAEP,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE,IAAI;IAAEC,IAAI,EAAE,IAAI;IAAEK,SAAS,EAAE;EAAE,CAAC;EACvEC,SAAS,EAAE;IAAET,IAAI,EAAEU,IAAI;IAAE,WAASA,IAAI,CAACC,GAAG;IAAET,QAAQ,EAAE;EAAK,CAAC;EAAE;EAC9D;EACAU,QAAQ,EAAE,CAAC;IAAEZ,IAAI,EAAEC,MAAM;IAAEE,IAAI,EAAE;EAAK,CAAC,CAAC;EACxCU,IAAI,EAAE;IACJC,KAAK,EAAE;MAAEd,IAAI,EAAEe,MAAM;MAAE,WAAS,CAAC;MAAEb,QAAQ,EAAE;IAAK,CAAC,CAAE;EACvD,CAAC;;EACDc,QAAQ,EAAE,CACR;IAAEhB,IAAI,EAAEH,oBAAQ,CAACC,MAAM,CAACmB,KAAK,CAACC,QAAQ;IAAEhB,QAAQ,EAAE,IAAI;IAAEiB,GAAG,EAAE;EAAU,CAAC,CACzE;EACDC,KAAK,EAAE;IAAEpB,IAAI,EAAEH,oBAAQ,CAACC,MAAM,CAACmB,KAAK,CAACC,QAAQ;IAAEhB,QAAQ,EAAE,IAAI;IAAEiB,GAAG,EAAE;EAAO;AAC7E,CAAC,CAAC;AAEFvB,WAAW,UAAO,CAAC,gBAAgB,EAAE,UAAUgB,QAAQ,EAAE;EACvD,OAAOA,QAAQ,CACZS,KAAK,CAAC,GAAG,CAAC,CACVC,GAAG,CAAC,UAACC,IAAI;IAAA,OAAMA,IAAI,CAACC,UAAU,CAAC,GAAG,CAAC,GAAGD,IAAI,cAAOA,IAAI,CAAE;EAAA,CAAC,CAAC;AAC9D,CAAC,CAAC;;AAEF;AACA,IAAME,KAAK,GAAG5B,oBAAQ,CAAC6B,KAAK,CAAC,OAAO,EAAE9B,WAAW,CAAC;AAAC,eAEpC6B,KAAK;AAAA"}},"mtime":1684909906629},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jane/Desktop/파카/develop_projects/wetube/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jane/Desktop/파카/develop_projects/wetube\",\"filename\":\"/Users/jane/Desktop/파카/develop_projects/wetube/src/models/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jane/Desktop/파카/develop_projects/wetube\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nvar userSchema = new _mongoose[\"default\"].Schema({\n  email: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  avatarUrl: String,\n  socialOnly: {\n    type: Boolean,\n    \"default\": false\n  },\n  username: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String\n  },\n  name: {\n    type: String,\n    required: true\n  },\n  location: String,\n  comments: [{\n    type: _mongoose[\"default\"].Schema.Types.ObjectId,\n    ref: \"Comment\"\n  }],\n  videos: [{\n    type: _mongoose[\"default\"].Schema.Types.ObjectId,\n    ref: \"Video\"\n  }]\n});\n\n//비밀번호 해싱처리\n//userSchema.pre(\"save\", ==> 저장하기 전에 잠깐 가로채서 작업 할 수 있는 기능을 가짐.\nuserSchema.pre(\"save\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n  return _regeneratorRuntime().wrap(function _callee$(_context) {\n    while (1) switch (_context.prev = _context.next) {\n      case 0:\n        if (!this.isModified(\"passoword\")) {\n          _context.next = 4;\n          break;\n        }\n        _context.next = 3;\n        return _bcrypt[\"default\"].hash(this.password, 5);\n      case 3:\n        this.password = _context.sent;\n      case 4:\n      case \"end\":\n        return _context.stop();\n    }\n  }, _callee, this);\n})));\nvar User = _mongoose[\"default\"].model(\"User\", userSchema);\nvar _default = User;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJlbWFpbCIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsInVuaXF1ZSIsImF2YXRhclVybCIsInNvY2lhbE9ubHkiLCJCb29sZWFuIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsIm5hbWUiLCJsb2NhdGlvbiIsImNvbW1lbnRzIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsInZpZGVvcyIsInByZSIsImlzTW9kaWZpZWQiLCJiY3J5cHQiLCJoYXNoIiwiVXNlciIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvamFuZS9EZXNrdG9wL+GEkeGFoeGEj+GFoS9kZXZlbG9wX3Byb2plY3RzL3dldHViZS9zcmMvbW9kZWxzLyIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYmNyeXB0IGZyb20gXCJiY3J5cHRcIjtcbmltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgdXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICBlbWFpbDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCB1bmlxdWU6IHRydWUgfSxcbiAgYXZhdGFyVXJsOiBTdHJpbmcsXG4gIHNvY2lhbE9ubHk6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcbiAgdXNlcm5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgdW5pcXVlOiB0cnVlIH0sXG4gIHBhc3N3b3JkOiB7IHR5cGU6IFN0cmluZyB9LFxuICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgbG9jYXRpb246IFN0cmluZyxcbiAgY29tbWVudHM6IFt7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiBcIkNvbW1lbnRcIiB9XSxcbiAgdmlkZW9zOiBbeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogXCJWaWRlb1wiIH1dLFxufSk7XG5cbi8v67mE67CA67KI7Zi4IO2VtOyLseyymOumrFxuLy91c2VyU2NoZW1hLnByZShcInNhdmVcIiwgPT0+IOyggOyepe2VmOq4sCDsoITsl5Ag7J6g6rmQIOqwgOuhnOyxhOyEnCDsnpHsl4Ug7ZWgIOyImCDsnojripQg6riw64ql7J2EIOqwgOynkC5cbnVzZXJTY2hlbWEucHJlKFwic2F2ZVwiLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmlzTW9kaWZpZWQoXCJwYXNzb3dvcmRcIikpIHtcbiAgICB0aGlzLnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2godGhpcy5wYXNzd29yZCwgNSk7XG4gIH1cbn0pO1xuXG5jb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWwoXCJVc2VyXCIsIHVzZXJTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgVXNlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFBZ0M7QUFBQSwrQ0FBaEM7QUFBQTtBQUFBO0FBRUEsSUFBTUEsVUFBVSxHQUFHLElBQUlDLG9CQUFRLENBQUNDLE1BQU0sQ0FBQztFQUNyQ0MsS0FBSyxFQUFFO0lBQUVDLElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUUsSUFBSTtJQUFFQyxNQUFNLEVBQUU7RUFBSyxDQUFDO0VBQ3JEQyxTQUFTLEVBQUVILE1BQU07RUFDakJJLFVBQVUsRUFBRTtJQUFFTCxJQUFJLEVBQUVNLE9BQU87SUFBRSxXQUFTO0VBQU0sQ0FBQztFQUM3Q0MsUUFBUSxFQUFFO0lBQUVQLElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUUsSUFBSTtJQUFFQyxNQUFNLEVBQUU7RUFBSyxDQUFDO0VBQ3hESyxRQUFRLEVBQUU7SUFBRVIsSUFBSSxFQUFFQztFQUFPLENBQUM7RUFDMUJRLElBQUksRUFBRTtJQUFFVCxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUN0Q1EsUUFBUSxFQUFFVCxNQUFNO0VBQ2hCVSxRQUFRLEVBQUUsQ0FBQztJQUFFWCxJQUFJLEVBQUVILG9CQUFRLENBQUNDLE1BQU0sQ0FBQ2MsS0FBSyxDQUFDQyxRQUFRO0lBQUVDLEdBQUcsRUFBRTtFQUFVLENBQUMsQ0FBQztFQUNwRUMsTUFBTSxFQUFFLENBQUM7SUFBRWYsSUFBSSxFQUFFSCxvQkFBUSxDQUFDQyxNQUFNLENBQUNjLEtBQUssQ0FBQ0MsUUFBUTtJQUFFQyxHQUFHLEVBQUU7RUFBUSxDQUFDO0FBQ2pFLENBQUMsQ0FBQzs7QUFFRjtBQUNBO0FBQ0FsQixVQUFVLENBQUNvQixHQUFHLENBQUMsTUFBTSwwRUFBRTtFQUFBO0lBQUE7TUFBQTtRQUFBLEtBQ2pCLElBQUksQ0FBQ0MsVUFBVSxDQUFDLFdBQVcsQ0FBQztVQUFBO1VBQUE7UUFBQTtRQUFBO1FBQUEsT0FDUkMsa0JBQU0sQ0FBQ0MsSUFBSSxDQUFDLElBQUksQ0FBQ1gsUUFBUSxFQUFFLENBQUMsQ0FBQztNQUFBO1FBQW5ELElBQUksQ0FBQ0EsUUFBUTtNQUFBO01BQUE7UUFBQTtJQUFBO0VBQUE7QUFBQSxDQUVoQixHQUFDO0FBRUYsSUFBTVksSUFBSSxHQUFHdkIsb0JBQVEsQ0FBQ3dCLEtBQUssQ0FBQyxNQUFNLEVBQUV6QixVQUFVLENBQUM7QUFBQyxlQUNqQ3dCLElBQUk7QUFBQSJ9","map":{"version":3,"names":["userSchema","mongoose","Schema","email","type","String","required","unique","avatarUrl","socialOnly","Boolean","username","password","name","location","comments","Types","ObjectId","ref","videos","pre","isModified","bcrypt","hash","User","model"],"sourceRoot":"/Users/jane/Desktop/파카/develop_projects/wetube/src/models/","sources":["User.js"],"sourcesContent":["import bcrypt from \"bcrypt\";\nimport mongoose from \"mongoose\";\n\nconst userSchema = new mongoose.Schema({\n  email: { type: String, required: true, unique: true },\n  avatarUrl: String,\n  socialOnly: { type: Boolean, default: false },\n  username: { type: String, required: true, unique: true },\n  password: { type: String },\n  name: { type: String, required: true },\n  location: String,\n  comments: [{ type: mongoose.Schema.Types.ObjectId, ref: \"Comment\" }],\n  videos: [{ type: mongoose.Schema.Types.ObjectId, ref: \"Video\" }],\n});\n\n//비밀번호 해싱처리\n//userSchema.pre(\"save\", ==> 저장하기 전에 잠깐 가로채서 작업 할 수 있는 기능을 가짐.\nuserSchema.pre(\"save\", async function () {\n  if (this.isModified(\"passoword\")) {\n    this.password = await bcrypt.hash(this.password, 5);\n  }\n});\n\nconst User = mongoose.model(\"User\", userSchema);\nexport default User;\n"],"mappings":";;;;;;;AAAA;AACA;AAAgC;AAAA,+CAAhC;AAAA;AAAA;AAEA,IAAMA,UAAU,GAAG,IAAIC,oBAAQ,CAACC,MAAM,CAAC;EACrCC,KAAK,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE,IAAI;IAAEC,MAAM,EAAE;EAAK,CAAC;EACrDC,SAAS,EAAEH,MAAM;EACjBI,UAAU,EAAE;IAAEL,IAAI,EAAEM,OAAO;IAAE,WAAS;EAAM,CAAC;EAC7CC,QAAQ,EAAE;IAAEP,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE,IAAI;IAAEC,MAAM,EAAE;EAAK,CAAC;EACxDK,QAAQ,EAAE;IAAER,IAAI,EAAEC;EAAO,CAAC;EAC1BQ,IAAI,EAAE;IAAET,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACtCQ,QAAQ,EAAET,MAAM;EAChBU,QAAQ,EAAE,CAAC;IAAEX,IAAI,EAAEH,oBAAQ,CAACC,MAAM,CAACc,KAAK,CAACC,QAAQ;IAAEC,GAAG,EAAE;EAAU,CAAC,CAAC;EACpEC,MAAM,EAAE,CAAC;IAAEf,IAAI,EAAEH,oBAAQ,CAACC,MAAM,CAACc,KAAK,CAACC,QAAQ;IAAEC,GAAG,EAAE;EAAQ,CAAC;AACjE,CAAC,CAAC;;AAEF;AACA;AACAlB,UAAU,CAACoB,GAAG,CAAC,MAAM,0EAAE;EAAA;IAAA;MAAA;QAAA,KACjB,IAAI,CAACC,UAAU,CAAC,WAAW,CAAC;UAAA;UAAA;QAAA;QAAA;QAAA,OACRC,kBAAM,CAACC,IAAI,CAAC,IAAI,CAACX,QAAQ,EAAE,CAAC,CAAC;MAAA;QAAnD,IAAI,CAACA,QAAQ;MAAA;MAAA;QAAA;IAAA;EAAA;AAAA,CAEhB,GAAC;AAEF,IAAMY,IAAI,GAAGvB,oBAAQ,CAACwB,KAAK,CAAC,MAAM,EAAEzB,UAAU,CAAC;AAAC,eACjCwB,IAAI;AAAA"}},"mtime":1683019898312},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jane/Desktop/파카/develop_projects/wetube/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jane/Desktop/파카/develop_projects/wetube\",\"filename\":\"/Users/jane/Desktop/파카/develop_projects/wetube/src/server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jane/Desktop/파카/develop_projects/wetube\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _morgan = _interopRequireDefault(require(\"morgan\"));\nvar _expressSession = _interopRequireDefault(require(\"express-session\"));\nvar _expressFlash = _interopRequireDefault(require(\"express-flash\"));\nvar _connectMongo = _interopRequireDefault(require(\"connect-mongo\"));\nvar _rootRouter = _interopRequireDefault(require(\"./routers/rootRouter\"));\nvar _videoRouter = _interopRequireDefault(require(\"./routers/videoRouter\"));\nvar _userRouter = _interopRequireDefault(require(\"./routers/userRouter\"));\nvar _apiRouter = _interopRequireDefault(require(\"./routers/apiRouter\"));\nvar _middlewares = require(\"./middlewares\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar app = (0, _express[\"default\"])();\nvar logger = (0, _morgan[\"default\"])(\"dev\");\napp.set(\"view engine\", \"pug\");\napp.set(\"views\", process.cwd() + \"/src/views\");\napp.use(logger);\napp.use(_express[\"default\"].urlencoded({\n  extended: true\n}));\napp.use(_express[\"default\"].json());\napp.use((0, _expressSession[\"default\"])({\n  secret: process.env.COOKIE_SECRET,\n  resave: false,\n  saveUninitialized: false,\n  store: _connectMongo[\"default\"].create({\n    mongoUrl: process.env.DB_URL\n  })\n}) //express session이 알아서 브라우저를 위한 세션 id를 만든다. / 서버는 1초마다 나를 까먹는 사람 / 내 id 카드를 보고서야 아 맞당 기억났다고 함\n);\n\napp.use((0, _expressFlash[\"default\"])());\napp.use(_middlewares.localsMiddleware);\napp.use(\"/uploads\", _express[\"default\"][\"static\"](\"uploads\"));\napp.use(\"/static\", _express[\"default\"][\"static\"](\"assets\"));\n//Uncaught (in promise) ReferenceError: SharedArrayBuffer is not defined 오류 해결 방법\n//오류 원인 : SharedArrayBuffer는 cross-origin isolated된 페이지에서만 사용할 수 있습니다. 따라서 ffmpeg.wasm을 사용하려면 Cross-Origin-Embedder-Policy: require-corp 및 Cross-Origin-Opener-Policy: same-origin를 header에 설정해 자체 서버를 호스팅해야 합니다.\napp.use(function (req, res, next) {\n  res.header(\"Cross-Origin-Embedder-Policy\", \"require-corp\");\n  res.header(\"Cross-Origin-Opener-Policy\", \"same-origin\");\n  next();\n});\napp.use(\"/\", _rootRouter[\"default\"]);\napp.use(\"/videos\", _videoRouter[\"default\"]);\napp.use(\"/users\", _userRouter[\"default\"]);\napp.use(\"/api\", _apiRouter[\"default\"]);\nvar _default = app;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhcHAiLCJleHByZXNzIiwibG9nZ2VyIiwibW9yZ2FuIiwic2V0IiwicHJvY2VzcyIsImN3ZCIsInVzZSIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsImpzb24iLCJzZXNzaW9uIiwic2VjcmV0IiwiZW52IiwiQ09PS0lFX1NFQ1JFVCIsInJlc2F2ZSIsInNhdmVVbmluaXRpYWxpemVkIiwic3RvcmUiLCJNb25nb1N0b3JlIiwiY3JlYXRlIiwibW9uZ29VcmwiLCJEQl9VUkwiLCJmbGFzaCIsImxvY2Fsc01pZGRsZXdhcmUiLCJyZXEiLCJyZXMiLCJuZXh0IiwiaGVhZGVyIiwicm9vdFJvdXRlciIsInZpZGVvUm91dGVyIiwidXNlclJvdXRlciIsImFwaVJvdXRlciJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2phbmUvRGVza3RvcC/hhJHhhaHhhI/hhaEvZGV2ZWxvcF9wcm9qZWN0cy93ZXR1YmUvc3JjLyIsInNvdXJjZXMiOlsic2VydmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgbW9yZ2FuIGZyb20gXCJtb3JnYW5cIjtcbmltcG9ydCBzZXNzaW9uIGZyb20gXCJleHByZXNzLXNlc3Npb25cIjtcbmltcG9ydCBmbGFzaCBmcm9tIFwiZXhwcmVzcy1mbGFzaFwiO1xuaW1wb3J0IE1vbmdvU3RvcmUgZnJvbSBcImNvbm5lY3QtbW9uZ29cIjtcbmltcG9ydCByb290Um91dGVyIGZyb20gXCIuL3JvdXRlcnMvcm9vdFJvdXRlclwiO1xuaW1wb3J0IHZpZGVvUm91dGVyIGZyb20gXCIuL3JvdXRlcnMvdmlkZW9Sb3V0ZXJcIjtcbmltcG9ydCB1c2VyUm91dGVyIGZyb20gXCIuL3JvdXRlcnMvdXNlclJvdXRlclwiO1xuaW1wb3J0IGFwaVJvdXRlciBmcm9tIFwiLi9yb3V0ZXJzL2FwaVJvdXRlclwiO1xuaW1wb3J0IHsgbG9jYWxzTWlkZGxld2FyZSB9IGZyb20gXCIuL21pZGRsZXdhcmVzXCI7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmNvbnN0IGxvZ2dlciA9IG1vcmdhbihcImRldlwiKTtcblxuYXBwLnNldChcInZpZXcgZW5naW5lXCIsIFwicHVnXCIpO1xuYXBwLnNldChcInZpZXdzXCIsIHByb2Nlc3MuY3dkKCkgKyBcIi9zcmMvdmlld3NcIik7XG5hcHAudXNlKGxvZ2dlcik7XG5hcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xuXG5hcHAudXNlKFxuICBzZXNzaW9uKHtcbiAgICBzZWNyZXQ6IHByb2Nlc3MuZW52LkNPT0tJRV9TRUNSRVQsXG4gICAgcmVzYXZlOiBmYWxzZSxcbiAgICBzYXZlVW5pbml0aWFsaXplZDogZmFsc2UsXG4gICAgc3RvcmU6IE1vbmdvU3RvcmUuY3JlYXRlKHsgbW9uZ29Vcmw6IHByb2Nlc3MuZW52LkRCX1VSTCB9KSxcbiAgfSkgLy9leHByZXNzIHNlc3Npb27snbQg7JWM7JWE7IScIOu4jOudvOyasOyggOulvCDsnITtlZwg7IS47IWYIGlk66W8IOunjOuToOuLpC4gLyDshJzrsoTripQgMey0iOuniOuLpCDrgpjrpbwg6rmM66i564qUIOyCrOuejCAvIOuCtCBpZCDsubTrk5zrpbwg67O06rOg7ISc7JW8IOyVhCDrp57ri7kg6riw7Ja164Ks64uk6rOgIO2VqFxuKTtcblxuYXBwLnVzZShmbGFzaCgpKTtcbmFwcC51c2UobG9jYWxzTWlkZGxld2FyZSk7XG5hcHAudXNlKFwiL3VwbG9hZHNcIiwgZXhwcmVzcy5zdGF0aWMoXCJ1cGxvYWRzXCIpKTtcbmFwcC51c2UoXCIvc3RhdGljXCIsIGV4cHJlc3Muc3RhdGljKFwiYXNzZXRzXCIpKTtcbi8vVW5jYXVnaHQgKGluIHByb21pc2UpIFJlZmVyZW5jZUVycm9yOiBTaGFyZWRBcnJheUJ1ZmZlciBpcyBub3QgZGVmaW5lZCDsmKTrpZgg7ZW06rKwIOuwqeuylVxuLy/smKTrpZgg7JuQ7J24IDogU2hhcmVkQXJyYXlCdWZmZXLripQgY3Jvc3Mtb3JpZ2luIGlzb2xhdGVk65CcIO2OmOydtOyngOyXkOyEnOunjCDsgqzsmqntlaAg7IiYIOyeiOyKteuLiOuLpC4g65Sw65287IScIGZmbXBlZy53YXNt7J2EIOyCrOyaqe2VmOugpOuptCBDcm9zcy1PcmlnaW4tRW1iZWRkZXItUG9saWN5OiByZXF1aXJlLWNvcnAg67CPIENyb3NzLU9yaWdpbi1PcGVuZXItUG9saWN5OiBzYW1lLW9yaWdpbuulvCBoZWFkZXLsl5Ag7ISk7KCV7ZW0IOyekOyytCDshJzrsoTrpbwg7Zi47Iqk7YyF7ZW07JW8IO2VqeuLiOuLpC5cbmFwcC51c2UoKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHJlcy5oZWFkZXIoXCJDcm9zcy1PcmlnaW4tRW1iZWRkZXItUG9saWN5XCIsIFwicmVxdWlyZS1jb3JwXCIpO1xuICByZXMuaGVhZGVyKFwiQ3Jvc3MtT3JpZ2luLU9wZW5lci1Qb2xpY3lcIiwgXCJzYW1lLW9yaWdpblwiKTtcbiAgbmV4dCgpO1xufSk7XG5hcHAudXNlKFwiL1wiLCByb290Um91dGVyKTtcbmFwcC51c2UoXCIvdmlkZW9zXCIsIHZpZGVvUm91dGVyKTtcbmFwcC51c2UoXCIvdXNlcnNcIiwgdXNlclJvdXRlcik7XG5hcHAudXNlKFwiL2FwaVwiLCBhcGlSb3V0ZXIpO1xuXG5leHBvcnQgZGVmYXVsdCBhcHA7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQWlEO0FBRWpELElBQU1BLEdBQUcsR0FBRyxJQUFBQyxtQkFBTyxHQUFFO0FBQ3JCLElBQU1DLE1BQU0sR0FBRyxJQUFBQyxrQkFBTSxFQUFDLEtBQUssQ0FBQztBQUU1QkgsR0FBRyxDQUFDSSxHQUFHLENBQUMsYUFBYSxFQUFFLEtBQUssQ0FBQztBQUM3QkosR0FBRyxDQUFDSSxHQUFHLENBQUMsT0FBTyxFQUFFQyxPQUFPLENBQUNDLEdBQUcsRUFBRSxHQUFHLFlBQVksQ0FBQztBQUM5Q04sR0FBRyxDQUFDTyxHQUFHLENBQUNMLE1BQU0sQ0FBQztBQUNmRixHQUFHLENBQUNPLEdBQUcsQ0FBQ04sbUJBQU8sQ0FBQ08sVUFBVSxDQUFDO0VBQUVDLFFBQVEsRUFBRTtBQUFLLENBQUMsQ0FBQyxDQUFDO0FBQy9DVCxHQUFHLENBQUNPLEdBQUcsQ0FBQ04sbUJBQU8sQ0FBQ1MsSUFBSSxFQUFFLENBQUM7QUFFdkJWLEdBQUcsQ0FBQ08sR0FBRyxDQUNMLElBQUFJLDBCQUFPLEVBQUM7RUFDTkMsTUFBTSxFQUFFUCxPQUFPLENBQUNRLEdBQUcsQ0FBQ0MsYUFBYTtFQUNqQ0MsTUFBTSxFQUFFLEtBQUs7RUFDYkMsaUJBQWlCLEVBQUUsS0FBSztFQUN4QkMsS0FBSyxFQUFFQyx3QkFBVSxDQUFDQyxNQUFNLENBQUM7SUFBRUMsUUFBUSxFQUFFZixPQUFPLENBQUNRLEdBQUcsQ0FBQ1E7RUFBTyxDQUFDO0FBQzNELENBQUMsQ0FBQyxDQUFDO0FBQUEsQ0FDSjs7QUFFRHJCLEdBQUcsQ0FBQ08sR0FBRyxDQUFDLElBQUFlLHdCQUFLLEdBQUUsQ0FBQztBQUNoQnRCLEdBQUcsQ0FBQ08sR0FBRyxDQUFDZ0IsNkJBQWdCLENBQUM7QUFDekJ2QixHQUFHLENBQUNPLEdBQUcsQ0FBQyxVQUFVLEVBQUVOLG1CQUFPLFVBQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUM5Q0QsR0FBRyxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFFTixtQkFBTyxVQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDNUM7QUFDQTtBQUNBRCxHQUFHLENBQUNPLEdBQUcsQ0FBQyxVQUFDaUIsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksRUFBSztFQUMxQkQsR0FBRyxDQUFDRSxNQUFNLENBQUMsOEJBQThCLEVBQUUsY0FBYyxDQUFDO0VBQzFERixHQUFHLENBQUNFLE1BQU0sQ0FBQyw0QkFBNEIsRUFBRSxhQUFhLENBQUM7RUFDdkRELElBQUksRUFBRTtBQUNSLENBQUMsQ0FBQztBQUNGMUIsR0FBRyxDQUFDTyxHQUFHLENBQUMsR0FBRyxFQUFFcUIsc0JBQVUsQ0FBQztBQUN4QjVCLEdBQUcsQ0FBQ08sR0FBRyxDQUFDLFNBQVMsRUFBRXNCLHVCQUFXLENBQUM7QUFDL0I3QixHQUFHLENBQUNPLEdBQUcsQ0FBQyxRQUFRLEVBQUV1QixzQkFBVSxDQUFDO0FBQzdCOUIsR0FBRyxDQUFDTyxHQUFHLENBQUMsTUFBTSxFQUFFd0IscUJBQVMsQ0FBQztBQUFDLGVBRVovQixHQUFHO0FBQUEifQ==","map":{"version":3,"names":["app","express","logger","morgan","set","process","cwd","use","urlencoded","extended","json","session","secret","env","COOKIE_SECRET","resave","saveUninitialized","store","MongoStore","create","mongoUrl","DB_URL","flash","localsMiddleware","req","res","next","header","rootRouter","videoRouter","userRouter","apiRouter"],"sourceRoot":"/Users/jane/Desktop/파카/develop_projects/wetube/src/","sources":["server.js"],"sourcesContent":["import express from \"express\";\nimport morgan from \"morgan\";\nimport session from \"express-session\";\nimport flash from \"express-flash\";\nimport MongoStore from \"connect-mongo\";\nimport rootRouter from \"./routers/rootRouter\";\nimport videoRouter from \"./routers/videoRouter\";\nimport userRouter from \"./routers/userRouter\";\nimport apiRouter from \"./routers/apiRouter\";\nimport { localsMiddleware } from \"./middlewares\";\n\nconst app = express();\nconst logger = morgan(\"dev\");\n\napp.set(\"view engine\", \"pug\");\napp.set(\"views\", process.cwd() + \"/src/views\");\napp.use(logger);\napp.use(express.urlencoded({ extended: true }));\napp.use(express.json());\n\napp.use(\n  session({\n    secret: process.env.COOKIE_SECRET,\n    resave: false,\n    saveUninitialized: false,\n    store: MongoStore.create({ mongoUrl: process.env.DB_URL }),\n  }) //express session이 알아서 브라우저를 위한 세션 id를 만든다. / 서버는 1초마다 나를 까먹는 사람 / 내 id 카드를 보고서야 아 맞당 기억났다고 함\n);\n\napp.use(flash());\napp.use(localsMiddleware);\napp.use(\"/uploads\", express.static(\"uploads\"));\napp.use(\"/static\", express.static(\"assets\"));\n//Uncaught (in promise) ReferenceError: SharedArrayBuffer is not defined 오류 해결 방법\n//오류 원인 : SharedArrayBuffer는 cross-origin isolated된 페이지에서만 사용할 수 있습니다. 따라서 ffmpeg.wasm을 사용하려면 Cross-Origin-Embedder-Policy: require-corp 및 Cross-Origin-Opener-Policy: same-origin를 header에 설정해 자체 서버를 호스팅해야 합니다.\napp.use((req, res, next) => {\n  res.header(\"Cross-Origin-Embedder-Policy\", \"require-corp\");\n  res.header(\"Cross-Origin-Opener-Policy\", \"same-origin\");\n  next();\n});\napp.use(\"/\", rootRouter);\napp.use(\"/videos\", videoRouter);\napp.use(\"/users\", userRouter);\napp.use(\"/api\", apiRouter);\n\nexport default app;\n"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAiD;AAEjD,IAAMA,GAAG,GAAG,IAAAC,mBAAO,GAAE;AACrB,IAAMC,MAAM,GAAG,IAAAC,kBAAM,EAAC,KAAK,CAAC;AAE5BH,GAAG,CAACI,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC;AAC7BJ,GAAG,CAACI,GAAG,CAAC,OAAO,EAAEC,OAAO,CAACC,GAAG,EAAE,GAAG,YAAY,CAAC;AAC9CN,GAAG,CAACO,GAAG,CAACL,MAAM,CAAC;AACfF,GAAG,CAACO,GAAG,CAACN,mBAAO,CAACO,UAAU,CAAC;EAAEC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAAC;AAC/CT,GAAG,CAACO,GAAG,CAACN,mBAAO,CAACS,IAAI,EAAE,CAAC;AAEvBV,GAAG,CAACO,GAAG,CACL,IAAAI,0BAAO,EAAC;EACNC,MAAM,EAAEP,OAAO,CAACQ,GAAG,CAACC,aAAa;EACjCC,MAAM,EAAE,KAAK;EACbC,iBAAiB,EAAE,KAAK;EACxBC,KAAK,EAAEC,wBAAU,CAACC,MAAM,CAAC;IAAEC,QAAQ,EAAEf,OAAO,CAACQ,GAAG,CAACQ;EAAO,CAAC;AAC3D,CAAC,CAAC,CAAC;AAAA,CACJ;;AAEDrB,GAAG,CAACO,GAAG,CAAC,IAAAe,wBAAK,GAAE,CAAC;AAChBtB,GAAG,CAACO,GAAG,CAACgB,6BAAgB,CAAC;AACzBvB,GAAG,CAACO,GAAG,CAAC,UAAU,EAAEN,mBAAO,UAAO,CAAC,SAAS,CAAC,CAAC;AAC9CD,GAAG,CAACO,GAAG,CAAC,SAAS,EAAEN,mBAAO,UAAO,CAAC,QAAQ,CAAC,CAAC;AAC5C;AACA;AACAD,GAAG,CAACO,GAAG,CAAC,UAACiB,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAK;EAC1BD,GAAG,CAACE,MAAM,CAAC,8BAA8B,EAAE,cAAc,CAAC;EAC1DF,GAAG,CAACE,MAAM,CAAC,4BAA4B,EAAE,aAAa,CAAC;EACvDD,IAAI,EAAE;AACR,CAAC,CAAC;AACF1B,GAAG,CAACO,GAAG,CAAC,GAAG,EAAEqB,sBAAU,CAAC;AACxB5B,GAAG,CAACO,GAAG,CAAC,SAAS,EAAEsB,uBAAW,CAAC;AAC/B7B,GAAG,CAACO,GAAG,CAAC,QAAQ,EAAEuB,sBAAU,CAAC;AAC7B9B,GAAG,CAACO,GAAG,CAAC,MAAM,EAAEwB,qBAAS,CAAC;AAAC,eAEZ/B,GAAG;AAAA"}},"mtime":1684919433425},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jane/Desktop/파카/develop_projects/wetube/src/routers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jane/Desktop/파카/develop_projects/wetube\",\"filename\":\"/Users/jane/Desktop/파카/develop_projects/wetube/src/routers/rootRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jane/Desktop/파카/develop_projects/wetube\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _userController = require(\"../controllers/userController\");\nvar _videoController = require(\"../controllers/videoController\");\nvar _middlewares = require(\"../middlewares\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n//여기서 라우터 기능도 가져다 쓰기 때문에\n\n//get이랑 controller랑은 항상 같이 다니기 때문에 controller파일 연결도 해준거고\n\nvar rootRouter = _express[\"default\"].Router();\nrootRouter.get(\"/\", _videoController.home);\nrootRouter.route(\"/join\").all(_middlewares.publicOnlyMiddleware).get(_userController.getJoin).post(_userController.postJoin);\nrootRouter.route(\"/login\").all(_middlewares.publicOnlyMiddleware).get(_userController.getLogin).post(_userController.postLogin);\nrootRouter.get(\"/\", _userController.logout);\nrootRouter.get(\"/search\", _videoController.search);\nvar _default = rootRouter;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb290Um91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImhvbWUiLCJyb3V0ZSIsImFsbCIsInB1YmxpY09ubHlNaWRkbGV3YXJlIiwiZ2V0Sm9pbiIsInBvc3QiLCJwb3N0Sm9pbiIsImdldExvZ2luIiwicG9zdExvZ2luIiwibG9nb3V0Iiwic2VhcmNoIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvamFuZS9EZXNrdG9wL+GEkeGFoeGEj+GFoS9kZXZlbG9wX3Byb2plY3RzL3dldHViZS9zcmMvcm91dGVycy8iLCJzb3VyY2VzIjpbInJvb3RSb3V0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjsgLy/sl6zquLDshJwg65287Jqw7YSwIOq4sOuKpeuPhCDqsIDsoLjri6Qg7JOw6riwIOuVjOusuOyXkFxuaW1wb3J0IHtcbiAgZ2V0Sm9pbixcbiAgcG9zdEpvaW4sXG4gIGdldExvZ2luLFxuICBwb3N0TG9naW4sXG4gIGxvZ291dCxcbn0gZnJvbSBcIi4uL2NvbnRyb2xsZXJzL3VzZXJDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBob21lLCBzZWFyY2ggfSBmcm9tIFwiLi4vY29udHJvbGxlcnMvdmlkZW9Db250cm9sbGVyXCI7XG4vL2dldOydtOuekSBjb250cm9sbGVy656R7J2AIO2VreyDgSDqsJnsnbQg64uk64uI6riwIOuVjOusuOyXkCBjb250cm9sbGVy7YyM7J28IOyXsOqysOuPhCDtlbTspIDqsbDqs6BcbmltcG9ydCB7IHB1YmxpY09ubHlNaWRkbGV3YXJlIH0gZnJvbSBcIi4uL21pZGRsZXdhcmVzXCI7XG5cbmNvbnN0IHJvb3RSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb290Um91dGVyLmdldChcIi9cIiwgaG9tZSk7XG5yb290Um91dGVyLnJvdXRlKFwiL2pvaW5cIikuYWxsKHB1YmxpY09ubHlNaWRkbGV3YXJlKS5nZXQoZ2V0Sm9pbikucG9zdChwb3N0Sm9pbik7XG5yb290Um91dGVyXG4gIC5yb3V0ZShcIi9sb2dpblwiKVxuICAuYWxsKHB1YmxpY09ubHlNaWRkbGV3YXJlKVxuICAuZ2V0KGdldExvZ2luKVxuICAucG9zdChwb3N0TG9naW4pO1xucm9vdFJvdXRlci5nZXQoXCIvXCIsIGxvZ291dCk7XG5yb290Um91dGVyLmdldChcIi9zZWFyY2hcIiwgc2VhcmNoKTtcblxuZXhwb3J0IGRlZmF1bHQgcm9vdFJvdXRlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQU9BO0FBRUE7QUFBc0Q7QUFWdkI7O0FBUy9COztBQUdBLElBQU1BLFVBQVUsR0FBR0MsbUJBQU8sQ0FBQ0MsTUFBTSxFQUFFO0FBRW5DRixVQUFVLENBQUNHLEdBQUcsQ0FBQyxHQUFHLEVBQUVDLHFCQUFJLENBQUM7QUFDekJKLFVBQVUsQ0FBQ0ssS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDQyxHQUFHLENBQUNDLGlDQUFvQixDQUFDLENBQUNKLEdBQUcsQ0FBQ0ssdUJBQU8sQ0FBQyxDQUFDQyxJQUFJLENBQUNDLHdCQUFRLENBQUM7QUFDL0VWLFVBQVUsQ0FDUEssS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUNmQyxHQUFHLENBQUNDLGlDQUFvQixDQUFDLENBQ3pCSixHQUFHLENBQUNRLHdCQUFRLENBQUMsQ0FDYkYsSUFBSSxDQUFDRyx5QkFBUyxDQUFDO0FBQ2xCWixVQUFVLENBQUNHLEdBQUcsQ0FBQyxHQUFHLEVBQUVVLHNCQUFNLENBQUM7QUFDM0JiLFVBQVUsQ0FBQ0csR0FBRyxDQUFDLFNBQVMsRUFBRVcsdUJBQU0sQ0FBQztBQUFDLGVBRW5CZCxVQUFVO0FBQUEifQ==","map":{"version":3,"names":["rootRouter","express","Router","get","home","route","all","publicOnlyMiddleware","getJoin","post","postJoin","getLogin","postLogin","logout","search"],"sourceRoot":"/Users/jane/Desktop/파카/develop_projects/wetube/src/routers/","sources":["rootRouter.js"],"sourcesContent":["import express from \"express\"; //여기서 라우터 기능도 가져다 쓰기 때문에\nimport {\n  getJoin,\n  postJoin,\n  getLogin,\n  postLogin,\n  logout,\n} from \"../controllers/userController\";\nimport { home, search } from \"../controllers/videoController\";\n//get이랑 controller랑은 항상 같이 다니기 때문에 controller파일 연결도 해준거고\nimport { publicOnlyMiddleware } from \"../middlewares\";\n\nconst rootRouter = express.Router();\n\nrootRouter.get(\"/\", home);\nrootRouter.route(\"/join\").all(publicOnlyMiddleware).get(getJoin).post(postJoin);\nrootRouter\n  .route(\"/login\")\n  .all(publicOnlyMiddleware)\n  .get(getLogin)\n  .post(postLogin);\nrootRouter.get(\"/\", logout);\nrootRouter.get(\"/search\", search);\n\nexport default rootRouter;\n"],"mappings":";;;;;;AAAA;AACA;AAOA;AAEA;AAAsD;AAVvB;;AAS/B;;AAGA,IAAMA,UAAU,GAAGC,mBAAO,CAACC,MAAM,EAAE;AAEnCF,UAAU,CAACG,GAAG,CAAC,GAAG,EAAEC,qBAAI,CAAC;AACzBJ,UAAU,CAACK,KAAK,CAAC,OAAO,CAAC,CAACC,GAAG,CAACC,iCAAoB,CAAC,CAACJ,GAAG,CAACK,uBAAO,CAAC,CAACC,IAAI,CAACC,wBAAQ,CAAC;AAC/EV,UAAU,CACPK,KAAK,CAAC,QAAQ,CAAC,CACfC,GAAG,CAACC,iCAAoB,CAAC,CACzBJ,GAAG,CAACQ,wBAAQ,CAAC,CACbF,IAAI,CAACG,yBAAS,CAAC;AAClBZ,UAAU,CAACG,GAAG,CAAC,GAAG,EAAEU,sBAAM,CAAC;AAC3Bb,UAAU,CAACG,GAAG,CAAC,SAAS,EAAEW,uBAAM,CAAC;AAAC,eAEnBd,UAAU;AAAA"}},"mtime":1678773382921},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jane/Desktop/파카/develop_projects/wetube/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jane/Desktop/파카/develop_projects/wetube\",\"filename\":\"/Users/jane/Desktop/파카/develop_projects/wetube/src/controllers/userController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jane/Desktop/파카/develop_projects/wetube\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.startGithubLogin = exports.see = exports.postLogin = exports.postJoin = exports.postEdit = exports.postChangePassword = exports.logout = exports.getLogin = exports.getJoin = exports.getEdit = exports.getChangePassword = exports.finishGithubLogin = void 0;\nvar _User = _interopRequireDefault(require(\"../models/User\"));\nvar _Video = _interopRequireDefault(require(\"../models/Video\"));\nvar _nodeFetch = _interopRequireDefault(require(\"node-fetch\"));\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nvar getJoin = function getJoin(req, res) {\n  return res.render(\"join\", {\n    pageTitle: \"Join\"\n  });\n};\nexports.getJoin = getJoin;\nvar postJoin = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var _req$body, email, username, password, password2, name, location, pageTitle, usernameExists, emailExists;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _req$body = req.body, email = _req$body.email, username = _req$body.username, password = _req$body.password, password2 = _req$body.password2, name = _req$body.name, location = _req$body.location;\n          pageTitle = \"Join\";\n          if (!(password !== password2)) {\n            _context.next = 4;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(404).render(\"join\", {\n            //에러가 있는 페이지는 굳이 저장하지 말아달라고 브라우저에 status 현재 상태를 요청\n            pageTitle: pageTitle,\n            errorMessage: \"password confirmation does not match\"\n          }));\n        case 4:\n          _context.next = 6;\n          return _User[\"default\"].exists({\n            username: username\n          });\n        case 6:\n          usernameExists = _context.sent;\n          if (!usernameExists) {\n            _context.next = 9;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(404).render(\"join\", {\n            pageTitle: pageTitle,\n            errorMessage: \"This username is already taken\"\n          }));\n        case 9:\n          _context.next = 11;\n          return _User[\"default\"].exists({\n            email: email\n          });\n        case 11:\n          emailExists = _context.sent;\n          if (!emailExists) {\n            _context.next = 14;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(404).render(\"join\", {\n            pageTitle: pageTitle,\n            errorMessage: \"This email is already taken\"\n          }));\n        case 14:\n          _context.prev = 14;\n          _context.next = 17;\n          return _User[\"default\"].create({\n            email: email,\n            username: username,\n            password: password,\n            password2: password2,\n            name: name,\n            location: location\n          });\n        case 17:\n          return _context.abrupt(\"return\", res.redirect(\"/login\"));\n        case 20:\n          _context.prev = 20;\n          _context.t0 = _context[\"catch\"](14);\n          return _context.abrupt(\"return\", res.status(404).render(\"join\", {\n            pageTitle: \"error login\",\n            errorMessage: _context.t0._message\n          }));\n        case 23:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[14, 20]]);\n  }));\n  return function postJoin(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexports.postJoin = postJoin;\nvar getLogin = function getLogin(req, res) {\n  res.render(\"login\", {\n    pageTitle: \"Login\"\n  });\n};\nexports.getLogin = getLogin;\nvar postLogin = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var _req$body2, username, password, pageTitle, user, ok;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _req$body2 = req.body, username = _req$body2.username, password = _req$body2.password;\n          pageTitle = \"Login\";\n          _context2.next = 4;\n          return _User[\"default\"].findOne({\n            username: username,\n            socialOnly: false\n          });\n        case 4:\n          user = _context2.sent;\n          if (user) {\n            _context2.next = 7;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).render(\"login\", {\n            pageTitle: pageTitle,\n            errorMessage: \"An account with this username does not exists\"\n          }));\n        case 7:\n          _context2.next = 9;\n          return _bcrypt[\"default\"].compare(password, user.password);\n        case 9:\n          ok = _context2.sent;\n          if (ok) {\n            _context2.next = 12;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(400).render(\"login\", {\n            pageTitle: pageTitle,\n            errorMessage: \"Wrong password\"\n          }));\n        case 12:\n          //여기 주목 ~ 유저가 로그인 하고 나서 그 유저에 대한 정보를 세션에 담는 중.\n          //서버는 모든 요청으로부터 id가 필요하다.\n          req.session.loggedIn = true; // 모든 브라우저가 다 다른 세션을 가진다.\n          req.session.user = user; // username 이 들어가는거지\n          return _context2.abrupt(\"return\", res.redirect(\"/\"));\n        case 15:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function postLogin(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexports.postLogin = postLogin;\nvar startGithubLogin = function startGithubLogin(req, res) {\n  var baseUrl = \"https://github.com/login/oauth/authorize\";\n  var config = {\n    client_id: process.env.GH_CLIENT,\n    allow_signup: false,\n    scope: \"read:user user:email\"\n  };\n  var params = new URLSearchParams(config).toString();\n  var finalUrl = \"\".concat(baseUrl, \"?\").concat(params);\n  return res.redirect(finalUrl);\n  // https://github.com/login/oauth/authorize?client_id=e76d3facdba2b958fb46&allow_signup=false&scope=user:email\n};\nexports.startGithubLogin = startGithubLogin;\nvar finishGithubLogin = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res) {\n    var baseUrl, config, params, finalUrl, tokenRequest, access_token, apiUrl, userData, emailData, emailObj, user, _user;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          baseUrl = \"https://github.com/login/oauth/access_token\";\n          config = {\n            client_id: process.env.GH_CLIENT,\n            client_secret: process.env.GH_SECRET,\n            code: req.query.code\n          };\n          params = new URLSearchParams(config).toString();\n          finalUrl = \"\".concat(baseUrl, \"?\").concat(params);\n          _context3.next = 6;\n          return (0, _nodeFetch[\"default\"])(finalUrl, {\n            method: \"POST\",\n            headers: {\n              Accept: \"application/json\"\n            }\n          });\n        case 6:\n          _context3.next = 8;\n          return _context3.sent.json();\n        case 8:\n          tokenRequest = _context3.sent;\n          if (!(\"access_token\" in tokenRequest)) {\n            _context3.next = 37;\n            break;\n          }\n          access_token = tokenRequest.access_token;\n          apiUrl = \"https://api.github.com\";\n          _context3.next = 14;\n          return (0, _nodeFetch[\"default\"])(\"\".concat(apiUrl, \"/user\"), {\n            headers: {\n              Authorization: \"token \".concat(access_token)\n            }\n          });\n        case 14:\n          _context3.next = 16;\n          return _context3.sent.json();\n        case 16:\n          userData = _context3.sent;\n          _context3.next = 19;\n          return (0, _nodeFetch[\"default\"])(\"\".concat(apiUrl, \"/user/emails\"), {\n            headers: {\n              Authorization: \"token \".concat(access_token)\n            }\n          });\n        case 19:\n          _context3.next = 21;\n          return _context3.sent.json();\n        case 21:\n          emailData = _context3.sent;\n          // console.log(\"이메일 데이터주세요\", emailData);\n          emailObj = emailData.find(function (email) {\n            return email.primary === true && email.verified === true;\n          });\n          if (emailObj) {\n            _context3.next = 25;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.redirect(\"/login\"));\n        case 25:\n          _context3.next = 27;\n          return _User[\"default\"].findOne({\n            email: emailObj.email\n          });\n        case 27:\n          user = _context3.sent;\n          if (user) {\n            _context3.next = 32;\n            break;\n          }\n          _context3.next = 31;\n          return _User[\"default\"].create({\n            avatarUrl: userData.avatar_url,\n            name: userData.name ? userData.name : \"JaneCho\",\n            username: userData.login,\n            email: emailObj.email,\n            password: \"\",\n            socialOnly: true,\n            location: userData.location\n          });\n        case 31:\n          _user = _context3.sent;\n        case 32:\n          req.session.loggedIn = true;\n          req.session.user = user;\n          return _context3.abrupt(\"return\", res.redirect(\"/\"));\n        case 37:\n          return _context3.abrupt(\"return\", res.redirect(\"/login\"));\n        case 38:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function finishGithubLogin(_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexports.finishGithubLogin = finishGithubLogin;\nvar logout = function logout(req, res) {\n  // req.session.destroy();\n  // req.flash(\"info\", \"Bye Bye\");\n  // return res.redirect(\"/\");\n  req.session.user = null;\n  res.locals.loggedInUser = req.session.user;\n  req.session.loggedIn = false;\n  return res.redirect(\"/\");\n};\nexports.logout = logout;\nvar getEdit = function getEdit(req, res) {\n  return res.render(\"edit-profile\", {\n    pageTitle: \"Edit Profile\"\n  });\n};\nexports.getEdit = getEdit;\nvar postEdit = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res) {\n    var _req$session$user, _id, avatarUrl, _req$body3, name, email, username, location, file, updatedUser;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _req$session$user = req.session.user, _id = _req$session$user._id, avatarUrl = _req$session$user.avatarUrl, _req$body3 = req.body, name = _req$body3.name, email = _req$body3.email, username = _req$body3.username, location = _req$body3.location, file = req.file; //const id = req.session.user.id\n          // const { name, email, username, location } = req.body;\n          _context4.next = 3;\n          return _User[\"default\"].findByIdAndUpdate(_id, {\n            avatarUrl: file ? file.path : avatarUrl,\n            name: name,\n            email: email,\n            username: username,\n            location: location\n          }, {\n            \"new\": true\n          });\n        case 3:\n          updatedUser = _context4.sent;\n          req.session.user = updatedUser;\n          return _context4.abrupt(\"return\", res.redirect(\"/users/edit\"));\n        case 6:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4);\n  }));\n  return function postEdit(_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexports.postEdit = postEdit;\nvar getChangePassword = function getChangePassword(req, res) {\n  if (req.session.user.socialOnly === true) {\n    req.flash(\"error\", \"Can't change password.\");\n    return res.redirect(\"/\");\n  }\n  return res.render(\"users/change-password\", {\n    pageTitle: \"Change Password\"\n  });\n};\nexports.getChangePassword = getChangePassword;\nvar postChangePassword = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res) {\n    var _id, _req$body4, oldPassword, newPassword, newPasswordConfirmation, user, ok;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          _id = req.session.user._id, _req$body4 = req.body, oldPassword = _req$body4.oldPassword, newPassword = _req$body4.newPassword, newPasswordConfirmation = _req$body4.newPasswordConfirmation;\n          _context5.next = 3;\n          return _User[\"default\"].findById(_id);\n        case 3:\n          user = _context5.sent;\n          ok = _bcrypt[\"default\"].compare(oldPassword, user.password);\n          if (ok) {\n            _context5.next = 7;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(400).render(\"users/change-password\", {\n            pageTitle: \"Change Password\",\n            errorMessage: \"Thr current password is incorrect\"\n          }));\n        case 7:\n          if (!(newPassword !== newPasswordConfirmation)) {\n            _context5.next = 9;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(400).render(\"users/change-password\", {\n            pageTitle: \"Change Password\",\n            errorMessage: \"The password does not match the confirmation\"\n          }));\n        case 9:\n          user.password = newPassword;\n          _context5.next = 12;\n          return user.save();\n        case 12:\n          req.flash(\"info\", \"Password updated\");\n          return _context5.abrupt(\"return\", res.redirect(\"/users/logout\"));\n        case 14:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return function postChangePassword(_x9, _x10) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nexports.postChangePassword = postChangePassword;\nvar see = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(req, res) {\n    var id, user;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          id = req.params.id;\n          _context6.next = 3;\n          return _User[\"default\"].findById(id).populate(\"videos\");\n        case 3:\n          user = _context6.sent;\n          if (user) {\n            _context6.next = 6;\n            break;\n          }\n          return _context6.abrupt(\"return\", res.status(404).render(\"404\", {\n            pageTitle: \"User not found.\"\n          }));\n        case 6:\n          return _context6.abrupt(\"return\", res.render(\"users/profile\", {\n            pageTitle: user.name,\n            user: user\n          }));\n        case 7:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6);\n  }));\n  return function see(_x11, _x12) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nexports.see = see;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXRKb2luIiwicmVxIiwicmVzIiwicmVuZGVyIiwicGFnZVRpdGxlIiwicG9zdEpvaW4iLCJib2R5IiwiZW1haWwiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwicGFzc3dvcmQyIiwibmFtZSIsImxvY2F0aW9uIiwic3RhdHVzIiwiZXJyb3JNZXNzYWdlIiwiVXNlciIsImV4aXN0cyIsInVzZXJuYW1lRXhpc3RzIiwiZW1haWxFeGlzdHMiLCJjcmVhdGUiLCJyZWRpcmVjdCIsIl9tZXNzYWdlIiwiZ2V0TG9naW4iLCJwb3N0TG9naW4iLCJmaW5kT25lIiwic29jaWFsT25seSIsInVzZXIiLCJiY3J5cHQiLCJjb21wYXJlIiwib2siLCJzZXNzaW9uIiwibG9nZ2VkSW4iLCJzdGFydEdpdGh1YkxvZ2luIiwiYmFzZVVybCIsImNvbmZpZyIsImNsaWVudF9pZCIsInByb2Nlc3MiLCJlbnYiLCJHSF9DTElFTlQiLCJhbGxvd19zaWdudXAiLCJzY29wZSIsInBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInRvU3RyaW5nIiwiZmluYWxVcmwiLCJmaW5pc2hHaXRodWJMb2dpbiIsImNsaWVudF9zZWNyZXQiLCJHSF9TRUNSRVQiLCJjb2RlIiwicXVlcnkiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJBY2NlcHQiLCJqc29uIiwidG9rZW5SZXF1ZXN0IiwiYWNjZXNzX3Rva2VuIiwiYXBpVXJsIiwiQXV0aG9yaXphdGlvbiIsInVzZXJEYXRhIiwiZW1haWxEYXRhIiwiZW1haWxPYmoiLCJmaW5kIiwicHJpbWFyeSIsInZlcmlmaWVkIiwiYXZhdGFyVXJsIiwiYXZhdGFyX3VybCIsImxvZ2luIiwibG9nb3V0IiwibG9jYWxzIiwibG9nZ2VkSW5Vc2VyIiwiZ2V0RWRpdCIsInBvc3RFZGl0IiwiX2lkIiwiZmlsZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwicGF0aCIsInVwZGF0ZWRVc2VyIiwiZ2V0Q2hhbmdlUGFzc3dvcmQiLCJmbGFzaCIsInBvc3RDaGFuZ2VQYXNzd29yZCIsIm9sZFBhc3N3b3JkIiwibmV3UGFzc3dvcmQiLCJuZXdQYXNzd29yZENvbmZpcm1hdGlvbiIsImZpbmRCeUlkIiwic2F2ZSIsInNlZSIsImlkIiwicG9wdWxhdGUiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9qYW5lL0Rlc2t0b3Av4YSR4YWh4YSP4YWhL2RldmVsb3BfcHJvamVjdHMvd2V0dWJlL3NyYy9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbInVzZXJDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVc2VyIGZyb20gXCIuLi9tb2RlbHMvVXNlclwiO1xuaW1wb3J0IFZpZGVvIGZyb20gXCIuLi9tb2RlbHMvVmlkZW9cIjtcbmltcG9ydCBmZXRjaCBmcm9tIFwibm9kZS1mZXRjaFwiO1xuaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0XCI7XG5cbmV4cG9ydCBjb25zdCBnZXRKb2luID0gKHJlcSwgcmVzKSA9PiB7XG4gIHJldHVybiByZXMucmVuZGVyKFwiam9pblwiLCB7IHBhZ2VUaXRsZTogXCJKb2luXCIgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHBvc3RKb2luID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHsgZW1haWwsIHVzZXJuYW1lLCBwYXNzd29yZCwgcGFzc3dvcmQyLCBuYW1lLCBsb2NhdGlvbiB9ID0gcmVxLmJvZHk7XG4gIGNvbnN0IHBhZ2VUaXRsZSA9IFwiSm9pblwiO1xuICBpZiAocGFzc3dvcmQgIT09IHBhc3N3b3JkMikge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkucmVuZGVyKFwiam9pblwiLCB7XG4gICAgICAvL+yXkOufrOqwgCDsnojripQg7Y6Y7J207KeA64qUIOq1s+ydtCDsoIDsnqXtlZjsp4Ag66eQ7JWE64us65286rOgIOu4jOudvOyasOyggOyXkCBzdGF0dXMg7ZiE7J6sIOyDge2DnOulvCDsmpTssq1cbiAgICAgIHBhZ2VUaXRsZSxcbiAgICAgIGVycm9yTWVzc2FnZTogXCJwYXNzd29yZCBjb25maXJtYXRpb24gZG9lcyBub3QgbWF0Y2hcIixcbiAgICB9KTtcbiAgfVxuICBjb25zdCB1c2VybmFtZUV4aXN0cyA9IGF3YWl0IFVzZXIuZXhpc3RzKHsgdXNlcm5hbWUgfSk7IC8v7KG07J6s7J2YIOyXrOu2gCjspJHrs7XsnZgg7Jes67aAKeulvCDssrTtgaxcbiAgaWYgKHVzZXJuYW1lRXhpc3RzKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5yZW5kZXIoXCJqb2luXCIsIHtcbiAgICAgIHBhZ2VUaXRsZSxcbiAgICAgIGVycm9yTWVzc2FnZTogXCJUaGlzIHVzZXJuYW1lIGlzIGFscmVhZHkgdGFrZW5cIixcbiAgICB9KTtcbiAgfVxuICBjb25zdCBlbWFpbEV4aXN0cyA9IGF3YWl0IFVzZXIuZXhpc3RzKHsgZW1haWwgfSk7XG4gIGlmIChlbWFpbEV4aXN0cykge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkucmVuZGVyKFwiam9pblwiLCB7XG4gICAgICBwYWdlVGl0bGUsXG4gICAgICBlcnJvck1lc3NhZ2U6IFwiVGhpcyBlbWFpbCBpcyBhbHJlYWR5IHRha2VuXCIsXG4gICAgfSk7XG4gIH1cbiAgdHJ5IHtcbiAgICBhd2FpdCBVc2VyLmNyZWF0ZSh7XG4gICAgICBlbWFpbCxcbiAgICAgIHVzZXJuYW1lLFxuICAgICAgcGFzc3dvcmQsXG4gICAgICBwYXNzd29yZDIsXG4gICAgICBuYW1lLFxuICAgICAgbG9jYXRpb24sXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcy5yZWRpcmVjdChcIi9sb2dpblwiKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnJlbmRlcihcImpvaW5cIiwge1xuICAgICAgcGFnZVRpdGxlOiBcImVycm9yIGxvZ2luXCIsXG4gICAgICBlcnJvck1lc3NhZ2U6IGVycm9yLl9tZXNzYWdlLFxuICAgIH0pO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0TG9naW4gPSAocmVxLCByZXMpID0+IHtcbiAgcmVzLnJlbmRlcihcImxvZ2luXCIsIHsgcGFnZVRpdGxlOiBcIkxvZ2luXCIgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHBvc3RMb2dpbiA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB7IHVzZXJuYW1lLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gIGNvbnN0IHBhZ2VUaXRsZSA9IFwiTG9naW5cIjtcbiAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IHVzZXJuYW1lLCBzb2NpYWxPbmx5OiBmYWxzZSB9KTsgLy8gRELsl5DshJwg6rCA7KC47JioIHVzZXLsnoRcbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5yZW5kZXIoXCJsb2dpblwiLCB7XG4gICAgICBwYWdlVGl0bGUsXG4gICAgICBlcnJvck1lc3NhZ2U6IFwiQW4gYWNjb3VudCB3aXRoIHRoaXMgdXNlcm5hbWUgZG9lcyBub3QgZXhpc3RzXCIsXG4gICAgfSk7XG4gIH1cbiAgY29uc3Qgb2sgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgdXNlci5wYXNzd29yZCk7IC8v7JWe7JeQIHBhc3N3b3Jk64qUIOyCrOyaqeyekOqwgCDrs7Tqs6Ag7J6F66Cl7ZWcIOu5hOuwgOuyiO2YuCAsIOuSpOyXkCB1c2VyLnBhc3N3b3Jk64qUIO2VtOyLsSDsspjrpqzrkJwgREIg7JWI7JeQIOyeiOuKlCDruYTrsIDrsojtmLhcbiAgaWYgKCFvaykge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkucmVuZGVyKFwibG9naW5cIiwge1xuICAgICAgcGFnZVRpdGxlLFxuICAgICAgZXJyb3JNZXNzYWdlOiBcIldyb25nIHBhc3N3b3JkXCIsXG4gICAgfSk7XG4gIH1cblxuICAvL+yXrOq4sCDso7zrqqkgfiDsnKDsoIDqsIAg66Gc6re47J24IO2VmOqzoCDrgpjshJwg6re4IOycoOyggOyXkCDrjIDtlZwg7KCV67O066W8IOyEuOyFmOyXkCDri7TripQg7KSRLlxuICAvL+yEnOuyhOuKlCDrqqjrk6Ag7JqU7LKt7Jy866Gc67aA7YSwIGlk6rCAIO2VhOyalO2VmOuLpC5cbiAgcmVxLnNlc3Npb24ubG9nZ2VkSW4gPSB0cnVlOyAvLyDrqqjrk6Ag67iM65287Jqw7KCA6rCAIOuLpCDri6Trpbgg7IS47IWY7J2EIOqwgOynhOuLpC5cbiAgcmVxLnNlc3Npb24udXNlciA9IHVzZXI7IC8vIHVzZXJuYW1lIOydtCDrk6TslrTqsIDripTqsbDsp4BcbiAgcmV0dXJuIHJlcy5yZWRpcmVjdChcIi9cIik7XG59O1xuXG5leHBvcnQgY29uc3Qgc3RhcnRHaXRodWJMb2dpbiA9IChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBiYXNlVXJsID0gXCJodHRwczovL2dpdGh1Yi5jb20vbG9naW4vb2F1dGgvYXV0aG9yaXplXCI7XG4gIGNvbnN0IGNvbmZpZyA9IHtcbiAgICBjbGllbnRfaWQ6IHByb2Nlc3MuZW52LkdIX0NMSUVOVCxcbiAgICBhbGxvd19zaWdudXA6IGZhbHNlLFxuICAgIHNjb3BlOiBcInJlYWQ6dXNlciB1c2VyOmVtYWlsXCIsXG4gIH07XG4gIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoY29uZmlnKS50b1N0cmluZygpO1xuICBjb25zdCBmaW5hbFVybCA9IGAke2Jhc2VVcmx9PyR7cGFyYW1zfWA7XG4gIHJldHVybiByZXMucmVkaXJlY3QoZmluYWxVcmwpO1xuICAvLyBodHRwczovL2dpdGh1Yi5jb20vbG9naW4vb2F1dGgvYXV0aG9yaXplP2NsaWVudF9pZD1lNzZkM2ZhY2RiYTJiOTU4ZmI0NiZhbGxvd19zaWdudXA9ZmFsc2Umc2NvcGU9dXNlcjplbWFpbFxufTtcblxuZXhwb3J0IGNvbnN0IGZpbmlzaEdpdGh1YkxvZ2luID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IGJhc2VVcmwgPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9sb2dpbi9vYXV0aC9hY2Nlc3NfdG9rZW5cIjtcbiAgY29uc3QgY29uZmlnID0ge1xuICAgIGNsaWVudF9pZDogcHJvY2Vzcy5lbnYuR0hfQ0xJRU5ULFxuICAgIGNsaWVudF9zZWNyZXQ6IHByb2Nlc3MuZW52LkdIX1NFQ1JFVCxcbiAgICBjb2RlOiByZXEucXVlcnkuY29kZSxcbiAgfTtcbiAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhjb25maWcpLnRvU3RyaW5nKCk7XG4gIGNvbnN0IGZpbmFsVXJsID0gYCR7YmFzZVVybH0/JHtwYXJhbXN9YDtcbiAgY29uc3QgdG9rZW5SZXF1ZXN0ID0gYXdhaXQgKFxuICAgIGF3YWl0IGZldGNoKGZpbmFsVXJsLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBY2NlcHQ6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICB9KVxuICApLmpzb24oKTtcbiAgaWYgKFwiYWNjZXNzX3Rva2VuXCIgaW4gdG9rZW5SZXF1ZXN0KSB7XG4gICAgY29uc3QgeyBhY2Nlc3NfdG9rZW4gfSA9IHRva2VuUmVxdWVzdDtcbiAgICBjb25zdCBhcGlVcmwgPSBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb21cIjtcbiAgICBjb25zdCB1c2VyRGF0YSA9IGF3YWl0IChcbiAgICAgIGF3YWl0IGZldGNoKGAke2FwaVVybH0vdXNlcmAsIHtcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIEF1dGhvcml6YXRpb246IGB0b2tlbiAke2FjY2Vzc190b2tlbn1gLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICApLmpzb24oKTtcbiAgICAvLyBjb25zb2xlLmxvZyhcIuycoOyggOuNsOydtO2EsOyjvOyEuOyalFwiLCB1c2VyRGF0YSk7XG4gICAgY29uc3QgZW1haWxEYXRhID0gYXdhaXQgKFxuICAgICAgYXdhaXQgZmV0Y2goYCR7YXBpVXJsfS91c2VyL2VtYWlsc2AsIHtcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIEF1dGhvcml6YXRpb246IGB0b2tlbiAke2FjY2Vzc190b2tlbn1gLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICApLmpzb24oKTtcbiAgICAvLyBjb25zb2xlLmxvZyhcIuydtOuplOydvCDrjbDsnbTthLDso7zshLjsmpRcIiwgZW1haWxEYXRhKTtcbiAgICBjb25zdCBlbWFpbE9iaiA9IGVtYWlsRGF0YS5maW5kKFxuICAgICAgKGVtYWlsKSA9PiBlbWFpbC5wcmltYXJ5ID09PSB0cnVlICYmIGVtYWlsLnZlcmlmaWVkID09PSB0cnVlXG4gICAgKTtcbiAgICBpZiAoIWVtYWlsT2JqKSB7XG4gICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KFwiL2xvZ2luXCIpO1xuICAgIH1cbiAgICBsZXQgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IGVtYWlsOiBlbWFpbE9iai5lbWFpbCB9KTtcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmNyZWF0ZSh7XG4gICAgICAgIGF2YXRhclVybDogdXNlckRhdGEuYXZhdGFyX3VybCxcbiAgICAgICAgbmFtZTogdXNlckRhdGEubmFtZSA/IHVzZXJEYXRhLm5hbWUgOiBcIkphbmVDaG9cIixcbiAgICAgICAgdXNlcm5hbWU6IHVzZXJEYXRhLmxvZ2luLFxuICAgICAgICBlbWFpbDogZW1haWxPYmouZW1haWwsXG4gICAgICAgIHBhc3N3b3JkOiBcIlwiLFxuICAgICAgICBzb2NpYWxPbmx5OiB0cnVlLFxuICAgICAgICBsb2NhdGlvbjogdXNlckRhdGEubG9jYXRpb24sXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmVxLnNlc3Npb24ubG9nZ2VkSW4gPSB0cnVlO1xuICAgIHJlcS5zZXNzaW9uLnVzZXIgPSB1c2VyO1xuICAgIHJldHVybiByZXMucmVkaXJlY3QoXCIvXCIpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiByZXMucmVkaXJlY3QoXCIvbG9naW5cIik7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBsb2dvdXQgPSAocmVxLCByZXMpID0+IHtcbiAgLy8gcmVxLnNlc3Npb24uZGVzdHJveSgpO1xuICAvLyByZXEuZmxhc2goXCJpbmZvXCIsIFwiQnllIEJ5ZVwiKTtcbiAgLy8gcmV0dXJuIHJlcy5yZWRpcmVjdChcIi9cIik7XG4gIHJlcS5zZXNzaW9uLnVzZXIgPSBudWxsO1xuICByZXMubG9jYWxzLmxvZ2dlZEluVXNlciA9IHJlcS5zZXNzaW9uLnVzZXI7XG4gIHJlcS5zZXNzaW9uLmxvZ2dlZEluID0gZmFsc2U7XG4gIHJldHVybiByZXMucmVkaXJlY3QoXCIvXCIpO1xufTtcbmV4cG9ydCBjb25zdCBnZXRFZGl0ID0gKHJlcSwgcmVzKSA9PiB7XG4gIHJldHVybiByZXMucmVuZGVyKFwiZWRpdC1wcm9maWxlXCIsIHsgcGFnZVRpdGxlOiBcIkVkaXQgUHJvZmlsZVwiIH0pO1xufTtcbmV4cG9ydCBjb25zdCBwb3N0RWRpdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB7XG4gICAgc2Vzc2lvbjoge1xuICAgICAgdXNlcjogeyBfaWQsIGF2YXRhclVybCB9LFxuICAgIH0sXG4gICAgYm9keTogeyBuYW1lLCBlbWFpbCwgdXNlcm5hbWUsIGxvY2F0aW9uIH0sXG4gICAgZmlsZSxcbiAgfSA9IHJlcTtcbiAgLy9jb25zdCBpZCA9IHJlcS5zZXNzaW9uLnVzZXIuaWRcbiAgLy8gY29uc3QgeyBuYW1lLCBlbWFpbCwgdXNlcm5hbWUsIGxvY2F0aW9uIH0gPSByZXEuYm9keTtcbiAgY29uc3QgdXBkYXRlZFVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkQW5kVXBkYXRlKFxuICAgIF9pZCxcbiAgICB7XG4gICAgICBhdmF0YXJVcmw6IGZpbGUgPyBmaWxlLnBhdGggOiBhdmF0YXJVcmwsXG4gICAgICBuYW1lLFxuICAgICAgZW1haWwsXG4gICAgICB1c2VybmFtZSxcbiAgICAgIGxvY2F0aW9uLFxuICAgIH0sXG4gICAgeyBuZXc6IHRydWUgfVxuICApO1xuICByZXEuc2Vzc2lvbi51c2VyID0gdXBkYXRlZFVzZXI7XG4gIHJldHVybiByZXMucmVkaXJlY3QoXCIvdXNlcnMvZWRpdFwiKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDaGFuZ2VQYXNzd29yZCA9IChyZXEsIHJlcykgPT4ge1xuICBpZiAocmVxLnNlc3Npb24udXNlci5zb2NpYWxPbmx5ID09PSB0cnVlKSB7XG4gICAgcmVxLmZsYXNoKFwiZXJyb3JcIiwgXCJDYW4ndCBjaGFuZ2UgcGFzc3dvcmQuXCIpO1xuICAgIHJldHVybiByZXMucmVkaXJlY3QoXCIvXCIpO1xuICB9XG4gIHJldHVybiByZXMucmVuZGVyKFwidXNlcnMvY2hhbmdlLXBhc3N3b3JkXCIsIHsgcGFnZVRpdGxlOiBcIkNoYW5nZSBQYXNzd29yZFwiIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IHBvc3RDaGFuZ2VQYXNzd29yZCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB7XG4gICAgc2Vzc2lvbjoge1xuICAgICAgdXNlcjogeyBfaWQgfSxcbiAgICB9LFxuICAgIGJvZHk6IHsgb2xkUGFzc3dvcmQsIG5ld1Bhc3N3b3JkLCBuZXdQYXNzd29yZENvbmZpcm1hdGlvbiB9LFxuICB9ID0gcmVxO1xuICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChfaWQpO1xuICBjb25zdCBvayA9IGJjcnlwdC5jb21wYXJlKG9sZFBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTtcbiAgaWYgKCFvaykge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkucmVuZGVyKFwidXNlcnMvY2hhbmdlLXBhc3N3b3JkXCIsIHtcbiAgICAgIHBhZ2VUaXRsZTogXCJDaGFuZ2UgUGFzc3dvcmRcIixcbiAgICAgIGVycm9yTWVzc2FnZTogXCJUaHIgY3VycmVudCBwYXNzd29yZCBpcyBpbmNvcnJlY3RcIixcbiAgICB9KTtcbiAgfVxuICBpZiAobmV3UGFzc3dvcmQgIT09IG5ld1Bhc3N3b3JkQ29uZmlybWF0aW9uKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5yZW5kZXIoXCJ1c2Vycy9jaGFuZ2UtcGFzc3dvcmRcIiwge1xuICAgICAgcGFnZVRpdGxlOiBcIkNoYW5nZSBQYXNzd29yZFwiLFxuICAgICAgZXJyb3JNZXNzYWdlOiBcIlRoZSBwYXNzd29yZCBkb2VzIG5vdCBtYXRjaCB0aGUgY29uZmlybWF0aW9uXCIsXG4gICAgfSk7XG4gIH1cbiAgdXNlci5wYXNzd29yZCA9IG5ld1Bhc3N3b3JkO1xuICBhd2FpdCB1c2VyLnNhdmUoKTtcbiAgcmVxLmZsYXNoKFwiaW5mb1wiLCBcIlBhc3N3b3JkIHVwZGF0ZWRcIik7XG4gIHJldHVybiByZXMucmVkaXJlY3QoXCIvdXNlcnMvbG9nb3V0XCIpO1xufTtcblxuZXhwb3J0IGNvbnN0IHNlZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB7IGlkIH0gPSByZXEucGFyYW1zO1xuICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChpZCkucG9wdWxhdGUoXCJ2aWRlb3NcIik7XG4gIGlmICghdXNlcikge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkucmVuZGVyKFwiNDA0XCIsIHsgcGFnZVRpdGxlOiBcIlVzZXIgbm90IGZvdW5kLlwiIH0pO1xuICB9XG4gIHJldHVybiByZXMucmVuZGVyKFwidXNlcnMvcHJvZmlsZVwiLCB7XG4gICAgcGFnZVRpdGxlOiB1c2VyLm5hbWUsXG4gICAgdXNlcixcbiAgfSk7XG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBNEI7QUFBQSwrQ0FGNUI7QUFBQTtBQUFBO0FBSU8sSUFBTUEsT0FBTyxHQUFHLFNBQVZBLE9BQU8sQ0FBSUMsR0FBRyxFQUFFQyxHQUFHLEVBQUs7RUFDbkMsT0FBT0EsR0FBRyxDQUFDQyxNQUFNLENBQUMsTUFBTSxFQUFFO0lBQUVDLFNBQVMsRUFBRTtFQUFPLENBQUMsQ0FBQztBQUNsRCxDQUFDO0FBQUM7QUFDSyxJQUFNQyxRQUFRO0VBQUEsc0VBQUcsaUJBQU9KLEdBQUcsRUFBRUMsR0FBRztJQUFBO0lBQUE7TUFBQTtRQUFBO1VBQUEsWUFDNEJELEdBQUcsQ0FBQ0ss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","map":{"version":3,"names":["getJoin","req","res","render","pageTitle","postJoin","body","email","username","password","password2","name","location","status","errorMessage","User","exists","usernameExists","emailExists","create","redirect","_message","getLogin","postLogin","findOne","socialOnly","user","bcrypt","compare","ok","session","loggedIn","startGithubLogin","baseUrl","config","client_id","process","env","GH_CLIENT","allow_signup","scope","params","URLSearchParams","toString","finalUrl","finishGithubLogin","client_secret","GH_SECRET","code","query","fetch","method","headers","Accept","json","tokenRequest","access_token","apiUrl","Authorization","userData","emailData","emailObj","find","primary","verified","avatarUrl","avatar_url","login","logout","locals","loggedInUser","getEdit","postEdit","_id","file","findByIdAndUpdate","path","updatedUser","getChangePassword","flash","postChangePassword","oldPassword","newPassword","newPasswordConfirmation","findById","save","see","id","populate"],"sourceRoot":"/Users/jane/Desktop/파카/develop_projects/wetube/src/controllers/","sources":["userController.js"],"sourcesContent":["import User from \"../models/User\";\nimport Video from \"../models/Video\";\nimport fetch from \"node-fetch\";\nimport bcrypt from \"bcrypt\";\n\nexport const getJoin = (req, res) => {\n  return res.render(\"join\", { pageTitle: \"Join\" });\n};\nexport const postJoin = async (req, res) => {\n  const { email, username, password, password2, name, location } = req.body;\n  const pageTitle = \"Join\";\n  if (password !== password2) {\n    return res.status(404).render(\"join\", {\n      //에러가 있는 페이지는 굳이 저장하지 말아달라고 브라우저에 status 현재 상태를 요청\n      pageTitle,\n      errorMessage: \"password confirmation does not match\",\n    });\n  }\n  const usernameExists = await User.exists({ username }); //존재의 여부(중복의 여부)를 체크\n  if (usernameExists) {\n    return res.status(404).render(\"join\", {\n      pageTitle,\n      errorMessage: \"This username is already taken\",\n    });\n  }\n  const emailExists = await User.exists({ email });\n  if (emailExists) {\n    return res.status(404).render(\"join\", {\n      pageTitle,\n      errorMessage: \"This email is already taken\",\n    });\n  }\n  try {\n    await User.create({\n      email,\n      username,\n      password,\n      password2,\n      name,\n      location,\n    });\n    return res.redirect(\"/login\");\n  } catch (error) {\n    return res.status(404).render(\"join\", {\n      pageTitle: \"error login\",\n      errorMessage: error._message,\n    });\n  }\n};\n\nexport const getLogin = (req, res) => {\n  res.render(\"login\", { pageTitle: \"Login\" });\n};\nexport const postLogin = async (req, res) => {\n  const { username, password } = req.body;\n  const pageTitle = \"Login\";\n  const user = await User.findOne({ username, socialOnly: false }); // DB에서 가져온 user임\n  if (!user) {\n    return res.status(400).render(\"login\", {\n      pageTitle,\n      errorMessage: \"An account with this username does not exists\",\n    });\n  }\n  const ok = await bcrypt.compare(password, user.password); //앞에 password는 사용자가 보고 입력한 비밀번호 , 뒤에 user.password는 해싱 처리된 DB 안에 있는 비밀번호\n  if (!ok) {\n    return res.status(400).render(\"login\", {\n      pageTitle,\n      errorMessage: \"Wrong password\",\n    });\n  }\n\n  //여기 주목 ~ 유저가 로그인 하고 나서 그 유저에 대한 정보를 세션에 담는 중.\n  //서버는 모든 요청으로부터 id가 필요하다.\n  req.session.loggedIn = true; // 모든 브라우저가 다 다른 세션을 가진다.\n  req.session.user = user; // username 이 들어가는거지\n  return res.redirect(\"/\");\n};\n\nexport const startGithubLogin = (req, res) => {\n  const baseUrl = \"https://github.com/login/oauth/authorize\";\n  const config = {\n    client_id: process.env.GH_CLIENT,\n    allow_signup: false,\n    scope: \"read:user user:email\",\n  };\n  const params = new URLSearchParams(config).toString();\n  const finalUrl = `${baseUrl}?${params}`;\n  return res.redirect(finalUrl);\n  // https://github.com/login/oauth/authorize?client_id=e76d3facdba2b958fb46&allow_signup=false&scope=user:email\n};\n\nexport const finishGithubLogin = async (req, res) => {\n  const baseUrl = \"https://github.com/login/oauth/access_token\";\n  const config = {\n    client_id: process.env.GH_CLIENT,\n    client_secret: process.env.GH_SECRET,\n    code: req.query.code,\n  };\n  const params = new URLSearchParams(config).toString();\n  const finalUrl = `${baseUrl}?${params}`;\n  const tokenRequest = await (\n    await fetch(finalUrl, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n      },\n    })\n  ).json();\n  if (\"access_token\" in tokenRequest) {\n    const { access_token } = tokenRequest;\n    const apiUrl = \"https://api.github.com\";\n    const userData = await (\n      await fetch(`${apiUrl}/user`, {\n        headers: {\n          Authorization: `token ${access_token}`,\n        },\n      })\n    ).json();\n    // console.log(\"유저데이터주세요\", userData);\n    const emailData = await (\n      await fetch(`${apiUrl}/user/emails`, {\n        headers: {\n          Authorization: `token ${access_token}`,\n        },\n      })\n    ).json();\n    // console.log(\"이메일 데이터주세요\", emailData);\n    const emailObj = emailData.find(\n      (email) => email.primary === true && email.verified === true\n    );\n    if (!emailObj) {\n      return res.redirect(\"/login\");\n    }\n    let user = await User.findOne({ email: emailObj.email });\n    if (!user) {\n      const user = await User.create({\n        avatarUrl: userData.avatar_url,\n        name: userData.name ? userData.name : \"JaneCho\",\n        username: userData.login,\n        email: emailObj.email,\n        password: \"\",\n        socialOnly: true,\n        location: userData.location,\n      });\n    }\n    req.session.loggedIn = true;\n    req.session.user = user;\n    return res.redirect(\"/\");\n  } else {\n    return res.redirect(\"/login\");\n  }\n};\n\nexport const logout = (req, res) => {\n  // req.session.destroy();\n  // req.flash(\"info\", \"Bye Bye\");\n  // return res.redirect(\"/\");\n  req.session.user = null;\n  res.locals.loggedInUser = req.session.user;\n  req.session.loggedIn = false;\n  return res.redirect(\"/\");\n};\nexport const getEdit = (req, res) => {\n  return res.render(\"edit-profile\", { pageTitle: \"Edit Profile\" });\n};\nexport const postEdit = async (req, res) => {\n  const {\n    session: {\n      user: { _id, avatarUrl },\n    },\n    body: { name, email, username, location },\n    file,\n  } = req;\n  //const id = req.session.user.id\n  // const { name, email, username, location } = req.body;\n  const updatedUser = await User.findByIdAndUpdate(\n    _id,\n    {\n      avatarUrl: file ? file.path : avatarUrl,\n      name,\n      email,\n      username,\n      location,\n    },\n    { new: true }\n  );\n  req.session.user = updatedUser;\n  return res.redirect(\"/users/edit\");\n};\n\nexport const getChangePassword = (req, res) => {\n  if (req.session.user.socialOnly === true) {\n    req.flash(\"error\", \"Can't change password.\");\n    return res.redirect(\"/\");\n  }\n  return res.render(\"users/change-password\", { pageTitle: \"Change Password\" });\n};\n\nexport const postChangePassword = async (req, res) => {\n  const {\n    session: {\n      user: { _id },\n    },\n    body: { oldPassword, newPassword, newPasswordConfirmation },\n  } = req;\n  const user = await User.findById(_id);\n  const ok = bcrypt.compare(oldPassword, user.password);\n  if (!ok) {\n    return res.status(400).render(\"users/change-password\", {\n      pageTitle: \"Change Password\",\n      errorMessage: \"Thr current password is incorrect\",\n    });\n  }\n  if (newPassword !== newPasswordConfirmation) {\n    return res.status(400).render(\"users/change-password\", {\n      pageTitle: \"Change Password\",\n      errorMessage: \"The password does not match the confirmation\",\n    });\n  }\n  user.password = newPassword;\n  await user.save();\n  req.flash(\"info\", \"Password updated\");\n  return res.redirect(\"/users/logout\");\n};\n\nexport const see = async (req, res) => {\n  const { id } = req.params;\n  const user = await User.findById(id).populate(\"videos\");\n  if (!user) {\n    return res.status(404).render(\"404\", { pageTitle: \"User not found.\" });\n  }\n  return res.render(\"users/profile\", {\n    pageTitle: user.name,\n    user,\n  });\n};\n"],"mappings":"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"}},"mtime":1684916261035},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jane/Desktop/파카/develop_projects/wetube/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jane/Desktop/파카/develop_projects/wetube\",\"filename\":\"/Users/jane/Desktop/파카/develop_projects/wetube/src/controllers/videoController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jane/Desktop/파카/develop_projects/wetube\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.watch = exports.search = exports.registerView = exports.postUpload = exports.postEdit = exports.home = exports.getUpload = exports.getEdit = exports.deleteVideo = exports.deleteComment = exports.createComment = void 0;\nvar _Video = _interopRequireDefault(require(\"../models/Video\"));\nvar _Comment = _interopRequireDefault(require(\"../models/Comment\"));\nvar _User = _interopRequireDefault(require(\"../models/User\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nvar home = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var videos;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _Video[\"default\"].find({}).sort({\n            createdAt: \"desc\"\n          }).populate(\"owner\");\n        case 2:\n          videos = _context.sent;\n          return _context.abrupt(\"return\", res.render(\"home\", {\n            pageTitle: \"Home\",\n            videos: videos\n          }));\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function home(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexports.home = home;\nvar watch = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var id, video;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          id = req.params.id; //req.param은 router가 주는 express의 기능\n          _context2.next = 3;\n          return _Video[\"default\"].findById(id).populate(\"owner\").populate(\"comments\");\n        case 3:\n          video = _context2.sent;\n          console.log(video);\n          if (video) {\n            _context2.next = 7;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.render(\"404\", {\n            pageTitle: \"Video not found.\"\n          }));\n        case 7:\n          return _context2.abrupt(\"return\", res.render(\"watch\", {\n            pageTitle: video.title,\n            video: video\n          }));\n        case 8:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function watch(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexports.watch = watch;\nvar getEdit = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res) {\n    var id, _id, video;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          id = req.params.id;\n          _id = req.session.user._id;\n          _context3.next = 4;\n          return _Video[\"default\"].findById(id);\n        case 4:\n          video = _context3.sent;\n          if (video) {\n            _context3.next = 7;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(404).render(\"404\", {\n            pageTitle: \"Video not found.\"\n          }));\n        case 7:\n          if (!(String(video.owner) !== String(_id))) {\n            _context3.next = 9;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(403).redirect(\"/\"));\n        case 9:\n          return _context3.abrupt(\"return\", res.render(\"edit\", {\n            pageTitle: \"Edit: \".concat(video.title),\n            video: video\n          }));\n        case 10:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function getEdit(_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexports.getEdit = getEdit;\nvar postEdit = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res) {\n    var _id, id, _req$body, title, description, hashtags, video;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _id = req.session.user._id; // const id = req.params.id; 아래랑 같은거임\n          id = req.params.id;\n          _req$body = req.body, title = _req$body.title, description = _req$body.description, hashtags = _req$body.hashtags; // const video = await Video.findById(id); //여기 video 는 DB에서 검색한 영상 object임\n          _context4.next = 5;\n          return _Video[\"default\"].findById(id);\n        case 5:\n          video = _context4.sent;\n          if (video) {\n            _context4.next = 8;\n            break;\n          }\n          return _context4.abrupt(\"return\", res.status(404).render(\"404\", {\n            pageTitle: \"Video not found.\"\n          }));\n        case 8:\n          if (!(String(video.owner) !== String(_id))) {\n            _context4.next = 11;\n            break;\n          }\n          req.flash(\"error\", \"You are not the owner of the video.\");\n          return _context4.abrupt(\"return\", res.status(403).redirect(\"/\"));\n        case 11:\n          _context4.next = 13;\n          return _Video[\"default\"].findByIdAndUpdate(id, {\n            // findByIdAndUpdate - id와 일치하는 것을 쿼리하는 메서드\n            //여기 Video는 model Video임\n            title: title,\n            description: description,\n            hashtags: _Video[\"default\"].formatHashtags(hashtags) //req.body; 위에서 가져온 해쉬태그 인자랑 동일\n          });\n        case 13:\n          req.flash(\"success\", \"Changes saved.\");\n          return _context4.abrupt(\"return\", res.redirect(\"/videos/\".concat(id)));\n        case 15:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4);\n  }));\n  return function postEdit(_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexports.postEdit = postEdit;\nvar getUpload = function getUpload(req, res) {\n  return res.render(\"upload\", {\n    pageTitle: \"upload video\"\n  });\n};\nexports.getUpload = getUpload;\nvar postUpload = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res) {\n    var _id, _req$files, video, thumb, _req$body2, title, description, hashtags, newVideo, user;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          _id = req.session.user._id;\n          console.log(video, thumb);\n          _req$files = req.files, video = _req$files.video, thumb = _req$files.thumb;\n          _req$body2 = req.body, title = _req$body2.title, description = _req$body2.description, hashtags = _req$body2.hashtags; // 얘네 다 name 가저온거임\n          _context5.prev = 4;\n          _context5.next = 7;\n          return _Video[\"default\"].create({\n            // create - 컬렉션에 새로운 아이템을 생성해 DB에 저장하는 메서드\n            title: title,\n            //title:title 여기서 앞에 title은 model Video에 있는 String 타입의 title을 가져온거고 뒤에 title은 name의 title을 가져온거임\n            description: description,\n            //얘도 마찬가지\n            fileUrl: video[0].path,\n            thumbUrl: thumb[0].path.replace(/[\\\\]/g, \"/\"),\n            owner: _id,\n            hashtags: _Video[\"default\"].formatHashtags(hashtags)\n          });\n        case 7:\n          newVideo = _context5.sent;\n          _context5.next = 10;\n          return _User[\"default\"].findById(_id);\n        case 10:\n          user = _context5.sent;\n          user.videos.unshift(newVideo._id);\n          user.save();\n          return _context5.abrupt(\"return\", res.redirect(\"/\"));\n        case 16:\n          _context5.prev = 16;\n          _context5.t0 = _context5[\"catch\"](4);\n          return _context5.abrupt(\"return\", res.render(\"upload\", {\n            //에러일 경우에 catch를 사용해서 에러라는걸 알려줄꺼고 upload 페이지를 재랜더링해서 upload 화면 띄우면서 거기다가 에러메세지 전달해주는거임\n            pageTitle: \"upload video\",\n            errorMessage: _context5.t0._message\n          }));\n        case 19:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[4, 16]]);\n  }));\n  return function postUpload(_x9, _x10) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nexports.postUpload = postUpload;\nvar deleteVideo = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(req, res) {\n    var id, _id, video, user;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          id = req.params.id;\n          _id = req.session.user._id;\n          _context6.next = 4;\n          return _Video[\"default\"].findById(id);\n        case 4:\n          video = _context6.sent;\n          _context6.next = 7;\n          return _User[\"default\"].findById(_id);\n        case 7:\n          user = _context6.sent;\n          if (video) {\n            _context6.next = 10;\n            break;\n          }\n          return _context6.abrupt(\"return\", res.status(404).render(\"404\", {\n            pageTitle: \"Video not found.\"\n          }));\n        case 10:\n          if (!(String(video.owner) !== String(_id))) {\n            _context6.next = 12;\n            break;\n          }\n          return _context6.abrupt(\"return\", res.status(403).redirect(\"/\"));\n        case 12:\n          _context6.next = 14;\n          return _Video[\"default\"].findByIdAndDelete(id);\n        case 14:\n          user.videos.splice(user.videos.indexOf(id), 1);\n          user.save();\n          return _context6.abrupt(\"return\", res.redirect(\"/\"));\n        case 17:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6);\n  }));\n  return function deleteVideo(_x11, _x12) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nexports.deleteVideo = deleteVideo;\nvar search = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(req, res) {\n    var keyword, videos;\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          keyword = req.query.keyword; //req.query 사용조건 : form이 GET 이어야하고, 변수 이름은 input name 이름 정해진대로 들어가야함. 지금은 name=\"keyword\" 라고 되어있음.\n          videos = [];\n          if (!keyword) {\n            _context7.next = 6;\n            break;\n          }\n          _context7.next = 5;\n          return _Video[\"default\"].find({\n            title: {\n              $regex: new RegExp(keyword, \"i\") //title에 검색된 keyword 들어있는거 걸러달라고\n            }\n          }).populate(\"owner\");\n        case 5:\n          videos = _context7.sent;\n        case 6:\n          return _context7.abrupt(\"return\", res.render(\"search\", {\n            pageTitle: \"Search\",\n            videos: videos\n          }));\n        case 7:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7);\n  }));\n  return function search(_x13, _x14) {\n    return _ref7.apply(this, arguments);\n  };\n}();\nexports.search = search;\nvar registerView = /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(req, res) {\n    var id, video;\n    return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          id = req.params.id;\n          _context8.next = 3;\n          return _Video[\"default\"].findById(id);\n        case 3:\n          video = _context8.sent;\n          if (video) {\n            _context8.next = 6;\n            break;\n          }\n          return _context8.abrupt(\"return\", res.sendStatus(404));\n        case 6:\n          video.meta.views = video.meta.views + 1;\n          _context8.next = 9;\n          return video.save();\n        case 9:\n          return _context8.abrupt(\"return\", res.sendStatus(200));\n        case 10:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8);\n  }));\n  return function registerView(_x15, _x16) {\n    return _ref8.apply(this, arguments);\n  };\n}();\nexports.registerView = registerView;\nvar createComment = /*#__PURE__*/function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(req, res) {\n    var user, text, id, video, comment;\n    return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          user = req.session.user, text = req.body.text, id = req.params.id;\n          _context9.next = 3;\n          return _Video[\"default\"].findById(id);\n        case 3:\n          video = _context9.sent;\n          if (video) {\n            _context9.next = 6;\n            break;\n          }\n          return _context9.abrupt(\"return\", res.sendStatus(404));\n        case 6:\n          _context9.next = 8;\n          return _Comment[\"default\"].create({\n            text: text,\n            owner: user._id,\n            video: id\n          });\n        case 8:\n          comment = _context9.sent;\n          // console.log(user, text, id);\n          // console.log(req.params);\n          // console.log(req.body.text);\n          // console.log(req.session.user);\n\n          video.comments.push(comment._id);\n          video.save();\n          return _context9.abrupt(\"return\", res.status(201).json({\n            newCommentId: comment._id\n          }));\n        case 12:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9);\n  }));\n  return function createComment(_x17, _x18) {\n    return _ref9.apply(this, arguments);\n  };\n}();\n\n//댓글 삭제 테스트\nexports.createComment = createComment;\nvar deleteComment = /*#__PURE__*/function () {\n  var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(req, res) {\n    var _id, commentId, comment, videoId, video;\n    return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n      while (1) switch (_context10.prev = _context10.next) {\n        case 0:\n          // const {\n          //   session: { user },\n          //   params: { id },\n          // } = req;\n          // const video = await Video.findById(id);\n          // if (!video) {\n          //   return res.sendStatus(404);\n          // }\n          // const comment = await Comment.findByIdAndDelete({\n          //   owner: user._id,\n          //   video: id,\n          // });\n          // video.comments.pull(comment._id);\n          // video.save();\n          // return res.sendStatus(200);\n          _id = req.session.user._id, commentId = req.params.commentId;\n          _context10.next = 3;\n          return _Comment[\"default\"].findById(commentId).populate(\"owner\");\n        case 3:\n          comment = _context10.sent;\n          videoId = comment.video;\n          if (!(String(_id) !== String(comment.owner._id))) {\n            _context10.next = 7;\n            break;\n          }\n          return _context10.abrupt(\"return\", res.sendStatus(404));\n        case 7:\n          _context10.next = 9;\n          return _Video[\"default\"].findById(videoId);\n        case 9:\n          video = _context10.sent;\n          if (video) {\n            _context10.next = 12;\n            break;\n          }\n          return _context10.abrupt(\"return\", res.sendStatus(404));\n        case 12:\n          video.comments.splice(video.comments.indexOf(commentId), 1);\n          _context10.next = 15;\n          return video.save();\n        case 15:\n          _context10.next = 17;\n          return _Comment[\"default\"].findByIdAndDelete(commentId);\n        case 17:\n          return _context10.abrupt(\"return\", res.sendStatus(200));\n        case 18:\n        case \"end\":\n          return _context10.stop();\n      }\n    }, _callee10);\n  }));\n  return function deleteComment(_x19, _x20) {\n    return _ref10.apply(this, arguments);\n  };\n}();\nexports.deleteComment = deleteComment;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJob21lIiwicmVxIiwicmVzIiwiVmlkZW8iLCJmaW5kIiwic29ydCIsImNyZWF0ZWRBdCIsInBvcHVsYXRlIiwidmlkZW9zIiwicmVuZGVyIiwicGFnZVRpdGxlIiwid2F0Y2giLCJpZCIsInBhcmFtcyIsImZpbmRCeUlkIiwidmlkZW8iLCJjb25zb2xlIiwibG9nIiwidGl0bGUiLCJnZXRFZGl0IiwiX2lkIiwic2Vzc2lvbiIsInVzZXIiLCJzdGF0dXMiLCJTdHJpbmciLCJvd25lciIsInJlZGlyZWN0IiwicG9zdEVkaXQiLCJib2R5IiwiZGVzY3JpcHRpb24iLCJoYXNodGFncyIsImZsYXNoIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJmb3JtYXRIYXNodGFncyIsImdldFVwbG9hZCIsInBvc3RVcGxvYWQiLCJ0aHVtYiIsImZpbGVzIiwiY3JlYXRlIiwiZmlsZVVybCIsInBhdGgiLCJ0aHVtYlVybCIsInJlcGxhY2UiLCJuZXdWaWRlbyIsIlVzZXIiLCJ1bnNoaWZ0Iiwic2F2ZSIsImVycm9yTWVzc2FnZSIsIl9tZXNzYWdlIiwiZGVsZXRlVmlkZW8iLCJmaW5kQnlJZEFuZERlbGV0ZSIsInNwbGljZSIsImluZGV4T2YiLCJzZWFyY2giLCJrZXl3b3JkIiwicXVlcnkiLCIkcmVnZXgiLCJSZWdFeHAiLCJyZWdpc3RlclZpZXciLCJzZW5kU3RhdHVzIiwibWV0YSIsInZpZXdzIiwiY3JlYXRlQ29tbWVudCIsInRleHQiLCJDb21tZW50IiwiY29tbWVudCIsImNvbW1lbnRzIiwicHVzaCIsImpzb24iLCJuZXdDb21tZW50SWQiLCJkZWxldGVDb21tZW50IiwiY29tbWVudElkIiwidmlkZW9JZCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2phbmUvRGVza3RvcC/hhJHhhaHhhI/hhaEvZGV2ZWxvcF9wcm9qZWN0cy93ZXR1YmUvc3JjL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsidmlkZW9Db250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBWaWRlbyBmcm9tIFwiLi4vbW9kZWxzL1ZpZGVvXCI7XG5pbXBvcnQgQ29tbWVudCBmcm9tIFwiLi4vbW9kZWxzL0NvbW1lbnRcIjtcbmltcG9ydCBVc2VyIGZyb20gXCIuLi9tb2RlbHMvVXNlclwiO1xuXG5leHBvcnQgY29uc3QgaG9tZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB2aWRlb3MgPSBhd2FpdCBWaWRlby5maW5kKHt9KVxuICAgIC5zb3J0KHsgY3JlYXRlZEF0OiBcImRlc2NcIiB9KVxuICAgIC5wb3B1bGF0ZShcIm93bmVyXCIpOyAvL+yXrOq4sOyEnCDrqqjrk6AgVmlkZW8g66qo6424IOqwneyytD8g7LC+7JWE7IScIOu2iOufrOyYpOqzoCAtPiDqt7jqsbggcmVuZGVyIOuQnCBob21l7JeQ7IScIOyTsOqzoCDsnojripTqsbDqs6AgLyB2aWRlb3PripQgdmlkZW/rk6TroZwg6rWs7ISx65CcIGFycmF57J206rOgXG4gIHJldHVybiByZXMucmVuZGVyKFwiaG9tZVwiLCB7IHBhZ2VUaXRsZTogXCJIb21lXCIsIHZpZGVvcyB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCB3YXRjaCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB7IGlkIH0gPSByZXEucGFyYW1zOyAvL3JlcS5wYXJhbeydgCByb3V0ZXLqsIAg7KO864qUIGV4cHJlc3PsnZgg6riw64qlXG4gIGNvbnN0IHZpZGVvID0gYXdhaXQgVmlkZW8uZmluZEJ5SWQoaWQpLnBvcHVsYXRlKFwib3duZXJcIikucG9wdWxhdGUoXCJjb21tZW50c1wiKTtcbiAgY29uc29sZS5sb2codmlkZW8pO1xuICBpZiAoIXZpZGVvKSB7XG4gICAgcmV0dXJuIHJlcy5yZW5kZXIoXCI0MDRcIiwgeyBwYWdlVGl0bGU6IFwiVmlkZW8gbm90IGZvdW5kLlwiIH0pO1xuICB9XG4gIHJldHVybiByZXMucmVuZGVyKFwid2F0Y2hcIiwgeyBwYWdlVGl0bGU6IHZpZGVvLnRpdGxlLCB2aWRlbyB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRFZGl0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XG4gIGNvbnN0IHtcbiAgICB1c2VyOiB7IF9pZCB9LFxuICB9ID0gcmVxLnNlc3Npb247XG4gIGNvbnN0IHZpZGVvID0gYXdhaXQgVmlkZW8uZmluZEJ5SWQoaWQpOyAvL+yXrOq4sCBnZXRFZGl07JeQ7ISc64qUIHZpZGVvIG9iamVjdOqwgCDqvK0g7ZWE7JqU7ZW07IScIOydtOqxuOuhnCDsgqzsmqkgLyBvYmplY3TrpbwgeyBwYWdlVGl0bGU6IGBFZGl0OiAke3ZpZGVvLnRpdGxlfWAsIHZpZGVvIH0pIOyXrOq4sOuhnCDrs7TrgrTspJjslbztlZjquLAg65WM66y4XG4gIGlmICghdmlkZW8pIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnJlbmRlcihcIjQwNFwiLCB7IHBhZ2VUaXRsZTogXCJWaWRlbyBub3QgZm91bmQuXCIgfSk7XG4gIH1cbiAgaWYgKFN0cmluZyh2aWRlby5vd25lcikgIT09IFN0cmluZyhfaWQpKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5yZWRpcmVjdChcIi9cIik7XG4gIH1cbiAgcmV0dXJuIHJlcy5yZW5kZXIoXCJlZGl0XCIsIHsgcGFnZVRpdGxlOiBgRWRpdDogJHt2aWRlby50aXRsZX1gLCB2aWRlbyB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBwb3N0RWRpdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB7XG4gICAgdXNlcjogeyBfaWQgfSxcbiAgfSA9IHJlcS5zZXNzaW9uO1xuICAvLyBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWQ7IOyVhOuemOuekSDqsJnsnYDqsbDsnoRcbiAgY29uc3QgeyBpZCB9ID0gcmVxLnBhcmFtcztcbiAgY29uc3QgeyB0aXRsZSwgZGVzY3JpcHRpb24sIGhhc2h0YWdzIH0gPSByZXEuYm9keTtcbiAgLy8gY29uc3QgdmlkZW8gPSBhd2FpdCBWaWRlby5maW5kQnlJZChpZCk7IC8v7Jes6riwIHZpZGVvIOuKlCBEQuyXkOyEnCDqsoDsg4ntlZwg7JiB7IOBIG9iamVjdOyehFxuICBjb25zdCB2aWRlbyA9IGF3YWl0IFZpZGVvLmZpbmRCeUlkKGlkKTsgLy92aWRlbyBvYmplY3Trpbwg67Cb64qUIOuMgOyLoOyXkCB0cnVlLCBmYWxzZeulvCDrsJvqs6Ag7J6I7J2MXG4gIGlmICghdmlkZW8pIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnJlbmRlcihcIjQwNFwiLCB7IHBhZ2VUaXRsZTogXCJWaWRlbyBub3QgZm91bmQuXCIgfSk7XG4gIH1cbiAgaWYgKFN0cmluZyh2aWRlby5vd25lcikgIT09IFN0cmluZyhfaWQpKSB7XG4gICAgcmVxLmZsYXNoKFwiZXJyb3JcIiwgXCJZb3UgYXJlIG5vdCB0aGUgb3duZXIgb2YgdGhlIHZpZGVvLlwiKTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLnJlZGlyZWN0KFwiL1wiKTtcbiAgfVxuICBhd2FpdCBWaWRlby5maW5kQnlJZEFuZFVwZGF0ZShpZCwge1xuICAgIC8vIGZpbmRCeUlkQW5kVXBkYXRlIC0gaWTsmYAg7J287LmY7ZWY64qUIOqyg+ydhCDsv7zrpqztlZjripQg66mU7ISc65OcXG4gICAgLy/sl6zquLAgVmlkZW/ripQgbW9kZWwgVmlkZW/snoRcbiAgICB0aXRsZSxcbiAgICBkZXNjcmlwdGlvbixcbiAgICBoYXNodGFnczogVmlkZW8uZm9ybWF0SGFzaHRhZ3MoaGFzaHRhZ3MpLCAvL3JlcS5ib2R5OyDsnITsl5DshJwg6rCA7KC47JioIO2VtOyJrO2DnOq3uCDsnbjsnpDrnpEg64+Z7J28XG4gIH0pO1xuICByZXEuZmxhc2goXCJzdWNjZXNzXCIsIFwiQ2hhbmdlcyBzYXZlZC5cIik7XG4gIHJldHVybiByZXMucmVkaXJlY3QoYC92aWRlb3MvJHtpZH1gKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRVcGxvYWQgPSAocmVxLCByZXMpID0+IHtcbiAgcmV0dXJuIHJlcy5yZW5kZXIoXCJ1cGxvYWRcIiwgeyBwYWdlVGl0bGU6IFwidXBsb2FkIHZpZGVvXCIgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgcG9zdFVwbG9hZCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB7XG4gICAgdXNlcjogeyBfaWQgfSxcbiAgfSA9IHJlcS5zZXNzaW9uO1xuICBjb25zb2xlLmxvZyh2aWRlbywgdGh1bWIpO1xuICBjb25zdCB7IHZpZGVvLCB0aHVtYiB9ID0gcmVxLmZpbGVzO1xuICBjb25zdCB7IHRpdGxlLCBkZXNjcmlwdGlvbiwgaGFzaHRhZ3MgfSA9IHJlcS5ib2R5OyAvLyDslpjrhKQg64ukIG5hbWUg6rCA7KCA7Jio6rGw7J6EXG4gIHRyeSB7XG4gICAgY29uc3QgbmV3VmlkZW8gPSBhd2FpdCBWaWRlby5jcmVhdGUoe1xuICAgICAgLy8gY3JlYXRlIC0g7Lus66CJ7IWY7JeQIOyDiOuhnOyatCDslYTsnbTthZzsnYQg7IOd7ISx7ZW0IERC7JeQIOyggOyepe2VmOuKlCDrqZTshJzrk5xcbiAgICAgIHRpdGxlLCAvL3RpdGxlOnRpdGxlIOyXrOq4sOyEnCDslZ7sl5AgdGl0bGXsnYAgbW9kZWwgVmlkZW/sl5Ag7J6I64qUIFN0cmluZyDtg4DsnoXsnZggdGl0bGXsnYQg6rCA7KC47Jio6rGw6rOgIOuSpOyXkCB0aXRsZeydgCBuYW1l7J2YIHRpdGxl7J2EIOqwgOyguOyYqOqxsOyehFxuICAgICAgZGVzY3JpcHRpb24sIC8v7JaY64+EIOuniOywrOqwgOyngFxuICAgICAgZmlsZVVybDogdmlkZW9bMF0ucGF0aCxcbiAgICAgIHRodW1iVXJsOiB0aHVtYlswXS5wYXRoLnJlcGxhY2UoL1tcXFxcXS9nLCBcIi9cIiksXG4gICAgICBvd25lcjogX2lkLFxuICAgICAgaGFzaHRhZ3M6IFZpZGVvLmZvcm1hdEhhc2h0YWdzKGhhc2h0YWdzKSxcbiAgICB9KTtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChfaWQpO1xuICAgIHVzZXIudmlkZW9zLnVuc2hpZnQobmV3VmlkZW8uX2lkKTtcbiAgICB1c2VyLnNhdmUoKTtcbiAgICByZXR1cm4gcmVzLnJlZGlyZWN0KFwiL1wiKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gcmVzLnJlbmRlcihcInVwbG9hZFwiLCB7XG4gICAgICAvL+yXkOufrOydvCDqsr3smrDsl5AgY2F0Y2jrpbwg7IKs7Jqp7ZW07IScIOyXkOufrOudvOuKlOqxuCDslYzroKTspITqurzqs6AgdXBsb2FkIO2OmOydtOyngOulvCDsnqzrnpzrjZTrp4HtlbTshJwgdXBsb2FkIO2ZlOuptCDrnYTsmrDrqbTshJwg6rGw6riw64uk6rCAIOyXkOufrOuplOyEuOyngCDsoITri6ztlbTso7zripTqsbDsnoRcbiAgICAgIHBhZ2VUaXRsZTogXCJ1cGxvYWQgdmlkZW9cIixcbiAgICAgIGVycm9yTWVzc2FnZTogZXJyb3IuX21lc3NhZ2UsXG4gICAgfSk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBkZWxldGVWaWRlbyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB7IGlkIH0gPSByZXEucGFyYW1zO1xuICBjb25zdCB7XG4gICAgdXNlcjogeyBfaWQgfSxcbiAgfSA9IHJlcS5zZXNzaW9uO1xuICBjb25zdCB2aWRlbyA9IGF3YWl0IFZpZGVvLmZpbmRCeUlkKGlkKTtcbiAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQoX2lkKTtcbiAgaWYgKCF2aWRlbykge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkucmVuZGVyKFwiNDA0XCIsIHsgcGFnZVRpdGxlOiBcIlZpZGVvIG5vdCBmb3VuZC5cIiB9KTtcbiAgfVxuICBpZiAoU3RyaW5nKHZpZGVvLm93bmVyKSAhPT0gU3RyaW5nKF9pZCkpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLnJlZGlyZWN0KFwiL1wiKTtcbiAgfVxuICBhd2FpdCBWaWRlby5maW5kQnlJZEFuZERlbGV0ZShpZCk7XG4gIHVzZXIudmlkZW9zLnNwbGljZSh1c2VyLnZpZGVvcy5pbmRleE9mKGlkKSwgMSk7XG4gIHVzZXIuc2F2ZSgpO1xuICByZXR1cm4gcmVzLnJlZGlyZWN0KFwiL1wiKTtcbn07XG5cbmV4cG9ydCBjb25zdCBzZWFyY2ggPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgeyBrZXl3b3JkIH0gPSByZXEucXVlcnk7IC8vcmVxLnF1ZXJ5IOyCrOyaqeyhsOqxtCA6IGZvcm3snbQgR0VUIOydtOyWtOyVvO2VmOqzoCwg67OA7IiYIOydtOumhOydgCBpbnB1dCBuYW1lIOydtOumhCDsoJXtlbTsp4TrjIDroZwg65Ok7Ja06rCA7JW87ZWoLiDsp4DquIjsnYAgbmFtZT1cImtleXdvcmRcIiDrnbzqs6Ag65CY7Ja07J6I7J2MLlxuICBsZXQgdmlkZW9zID0gW107XG4gIGlmIChrZXl3b3JkKSB7XG4gICAgdmlkZW9zID0gYXdhaXQgVmlkZW8uZmluZCh7XG4gICAgICB0aXRsZToge1xuICAgICAgICAkcmVnZXg6IG5ldyBSZWdFeHAoa2V5d29yZCwgXCJpXCIpLCAvL3RpdGxl7JeQIOqygOyDieuQnCBrZXl3b3JkIOuTpOyWtOyeiOuKlOqxsCDqsbjrn6zri6zrnbzqs6BcbiAgICAgIH0sXG4gICAgfSkucG9wdWxhdGUoXCJvd25lclwiKTtcbiAgfVxuICByZXR1cm4gcmVzLnJlbmRlcihcInNlYXJjaFwiLCB7XG4gICAgcGFnZVRpdGxlOiBcIlNlYXJjaFwiLFxuICAgIHZpZGVvcyxcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJWaWV3ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XG4gIGNvbnN0IHZpZGVvID0gYXdhaXQgVmlkZW8uZmluZEJ5SWQoaWQpO1xuICBpZiAoIXZpZGVvKSB7XG4gICAgcmV0dXJuIHJlcy5zZW5kU3RhdHVzKDQwNCk7XG4gIH1cbiAgdmlkZW8ubWV0YS52aWV3cyA9IHZpZGVvLm1ldGEudmlld3MgKyAxO1xuICBhd2FpdCB2aWRlby5zYXZlKCk7XG4gIHJldHVybiByZXMuc2VuZFN0YXR1cygyMDApO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNvbW1lbnQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3Qge1xuICAgIHNlc3Npb246IHsgdXNlciB9LFxuICAgIGJvZHk6IHsgdGV4dCB9LFxuICAgIHBhcmFtczogeyBpZCB9LFxuICB9ID0gcmVxO1xuXG4gIGNvbnN0IHZpZGVvID0gYXdhaXQgVmlkZW8uZmluZEJ5SWQoaWQpO1xuICBpZiAoIXZpZGVvKSB7XG4gICAgcmV0dXJuIHJlcy5zZW5kU3RhdHVzKDQwNCk7XG4gIH1cblxuICBjb25zdCBjb21tZW50ID0gYXdhaXQgQ29tbWVudC5jcmVhdGUoe1xuICAgIHRleHQsXG4gICAgb3duZXI6IHVzZXIuX2lkLFxuICAgIHZpZGVvOiBpZCxcbiAgfSk7XG5cbiAgLy8gY29uc29sZS5sb2codXNlciwgdGV4dCwgaWQpO1xuICAvLyBjb25zb2xlLmxvZyhyZXEucGFyYW1zKTtcbiAgLy8gY29uc29sZS5sb2cocmVxLmJvZHkudGV4dCk7XG4gIC8vIGNvbnNvbGUubG9nKHJlcS5zZXNzaW9uLnVzZXIpO1xuXG4gIHZpZGVvLmNvbW1lbnRzLnB1c2goY29tbWVudC5faWQpO1xuICB2aWRlby5zYXZlKCk7XG4gIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7IG5ld0NvbW1lbnRJZDogY29tbWVudC5faWQgfSk7XG59O1xuXG4vL+uMk+q4gCDsgq3soJwg7YWM7Iqk7Yq4XG5leHBvcnQgY29uc3QgZGVsZXRlQ29tbWVudCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAvLyBjb25zdCB7XG4gIC8vICAgc2Vzc2lvbjogeyB1c2VyIH0sXG4gIC8vICAgcGFyYW1zOiB7IGlkIH0sXG4gIC8vIH0gPSByZXE7XG5cbiAgLy8gY29uc3QgdmlkZW8gPSBhd2FpdCBWaWRlby5maW5kQnlJZChpZCk7XG4gIC8vIGlmICghdmlkZW8pIHtcbiAgLy8gICByZXR1cm4gcmVzLnNlbmRTdGF0dXMoNDA0KTtcbiAgLy8gfVxuXG4gIC8vIGNvbnN0IGNvbW1lbnQgPSBhd2FpdCBDb21tZW50LmZpbmRCeUlkQW5kRGVsZXRlKHtcbiAgLy8gICBvd25lcjogdXNlci5faWQsXG4gIC8vICAgdmlkZW86IGlkLFxuICAvLyB9KTtcblxuICAvLyB2aWRlby5jb21tZW50cy5wdWxsKGNvbW1lbnQuX2lkKTtcbiAgLy8gdmlkZW8uc2F2ZSgpO1xuICAvLyByZXR1cm4gcmVzLnNlbmRTdGF0dXMoMjAwKTtcblxuICBjb25zdCB7XG4gICAgc2Vzc2lvbjoge1xuICAgICAgdXNlcjogeyBfaWQgfSxcbiAgICB9LFxuICAgIHBhcmFtczogeyBjb21tZW50SWQgfSxcbiAgfSA9IHJlcTtcblxuICBjb25zdCBjb21tZW50ID0gYXdhaXQgQ29tbWVudC5maW5kQnlJZChjb21tZW50SWQpLnBvcHVsYXRlKFwib3duZXJcIik7XG5cbiAgY29uc3QgdmlkZW9JZCA9IGNvbW1lbnQudmlkZW87XG4gIGlmIChTdHJpbmcoX2lkKSAhPT0gU3RyaW5nKGNvbW1lbnQub3duZXIuX2lkKSkge1xuICAgIHJldHVybiByZXMuc2VuZFN0YXR1cyg0MDQpO1xuICB9XG5cbiAgY29uc3QgdmlkZW8gPSBhd2FpdCBWaWRlby5maW5kQnlJZCh2aWRlb0lkKTtcbiAgaWYgKCF2aWRlbykge1xuICAgIHJldHVybiByZXMuc2VuZFN0YXR1cyg0MDQpO1xuICB9XG5cbiAgdmlkZW8uY29tbWVudHMuc3BsaWNlKHZpZGVvLmNvbW1lbnRzLmluZGV4T2YoY29tbWVudElkKSwgMSk7XG4gIGF3YWl0IHZpZGVvLnNhdmUoKTtcbiAgYXdhaXQgQ29tbWVudC5maW5kQnlJZEFuZERlbGV0ZShjb21tZW50SWQpO1xuXG4gIHJldHVybiByZXMuc2VuZFN0YXR1cygyMDApO1xufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUFrQztBQUFBLCtDQURsQztBQUFBO0FBQUE7QUFHTyxJQUFNQSxJQUFJO0VBQUEsc0VBQUcsaUJBQU9DLEdBQUcsRUFBRUMsR0FBRztJ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","map":{"version":3,"names":["home","req","res","Video","find","sort","createdAt","populate","videos","render","pageTitle","watch","id","params","findById","video","console","log","title","getEdit","_id","session","user","status","String","owner","redirect","postEdit","body","description","hashtags","flash","findByIdAndUpdate","formatHashtags","getUpload","postUpload","thumb","files","create","fileUrl","path","thumbUrl","replace","newVideo","User","unshift","save","errorMessage","_message","deleteVideo","findByIdAndDelete","splice","indexOf","search","keyword","query","$regex","RegExp","registerView","sendStatus","meta","views","createComment","text","Comment","comment","comments","push","json","newCommentId","deleteComment","commentId","videoId"],"sourceRoot":"/Users/jane/Desktop/파카/develop_projects/wetube/src/controllers/","sources":["videoController.js"],"sourcesContent":["import Video from \"../models/Video\";\nimport Comment from \"../models/Comment\";\nimport User from \"../models/User\";\n\nexport const home = async (req, res) => {\n  const videos = await Video.find({})\n    .sort({ createdAt: \"desc\" })\n    .populate(\"owner\"); //여기서 모든 Video 모델 객체? 찾아서 불러오고 -> 그걸 render 된 home에서 쓰고 있는거고 / videos는 video들로 구성된 array이고\n  return res.render(\"home\", { pageTitle: \"Home\", videos });\n};\n\nexport const watch = async (req, res) => {\n  const { id } = req.params; //req.param은 router가 주는 express의 기능\n  const video = await Video.findById(id).populate(\"owner\").populate(\"comments\");\n  console.log(video);\n  if (!video) {\n    return res.render(\"404\", { pageTitle: \"Video not found.\" });\n  }\n  return res.render(\"watch\", { pageTitle: video.title, video });\n};\n\nexport const getEdit = async (req, res) => {\n  const { id } = req.params;\n  const {\n    user: { _id },\n  } = req.session;\n  const video = await Video.findById(id); //여기 getEdit에서는 video object가 꼭 필요해서 이걸로 사용 / object를 { pageTitle: `Edit: ${video.title}`, video }) 여기로 보내줘야하기 때문\n  if (!video) {\n    return res.status(404).render(\"404\", { pageTitle: \"Video not found.\" });\n  }\n  if (String(video.owner) !== String(_id)) {\n    return res.status(403).redirect(\"/\");\n  }\n  return res.render(\"edit\", { pageTitle: `Edit: ${video.title}`, video });\n};\n\nexport const postEdit = async (req, res) => {\n  const {\n    user: { _id },\n  } = req.session;\n  // const id = req.params.id; 아래랑 같은거임\n  const { id } = req.params;\n  const { title, description, hashtags } = req.body;\n  // const video = await Video.findById(id); //여기 video 는 DB에서 검색한 영상 object임\n  const video = await Video.findById(id); //video object를 받는 대신에 true, false를 받고 있음\n  if (!video) {\n    return res.status(404).render(\"404\", { pageTitle: \"Video not found.\" });\n  }\n  if (String(video.owner) !== String(_id)) {\n    req.flash(\"error\", \"You are not the owner of the video.\");\n    return res.status(403).redirect(\"/\");\n  }\n  await Video.findByIdAndUpdate(id, {\n    // findByIdAndUpdate - id와 일치하는 것을 쿼리하는 메서드\n    //여기 Video는 model Video임\n    title,\n    description,\n    hashtags: Video.formatHashtags(hashtags), //req.body; 위에서 가져온 해쉬태그 인자랑 동일\n  });\n  req.flash(\"success\", \"Changes saved.\");\n  return res.redirect(`/videos/${id}`);\n};\n\nexport const getUpload = (req, res) => {\n  return res.render(\"upload\", { pageTitle: \"upload video\" });\n};\n\nexport const postUpload = async (req, res) => {\n  const {\n    user: { _id },\n  } = req.session;\n  console.log(video, thumb);\n  const { video, thumb } = req.files;\n  const { title, description, hashtags } = req.body; // 얘네 다 name 가저온거임\n  try {\n    const newVideo = await Video.create({\n      // create - 컬렉션에 새로운 아이템을 생성해 DB에 저장하는 메서드\n      title, //title:title 여기서 앞에 title은 model Video에 있는 String 타입의 title을 가져온거고 뒤에 title은 name의 title을 가져온거임\n      description, //얘도 마찬가지\n      fileUrl: video[0].path,\n      thumbUrl: thumb[0].path.replace(/[\\\\]/g, \"/\"),\n      owner: _id,\n      hashtags: Video.formatHashtags(hashtags),\n    });\n    const user = await User.findById(_id);\n    user.videos.unshift(newVideo._id);\n    user.save();\n    return res.redirect(\"/\");\n  } catch (error) {\n    return res.render(\"upload\", {\n      //에러일 경우에 catch를 사용해서 에러라는걸 알려줄꺼고 upload 페이지를 재랜더링해서 upload 화면 띄우면서 거기다가 에러메세지 전달해주는거임\n      pageTitle: \"upload video\",\n      errorMessage: error._message,\n    });\n  }\n};\n\nexport const deleteVideo = async (req, res) => {\n  const { id } = req.params;\n  const {\n    user: { _id },\n  } = req.session;\n  const video = await Video.findById(id);\n  const user = await User.findById(_id);\n  if (!video) {\n    return res.status(404).render(\"404\", { pageTitle: \"Video not found.\" });\n  }\n  if (String(video.owner) !== String(_id)) {\n    return res.status(403).redirect(\"/\");\n  }\n  await Video.findByIdAndDelete(id);\n  user.videos.splice(user.videos.indexOf(id), 1);\n  user.save();\n  return res.redirect(\"/\");\n};\n\nexport const search = async (req, res) => {\n  const { keyword } = req.query; //req.query 사용조건 : form이 GET 이어야하고, 변수 이름은 input name 이름 정해진대로 들어가야함. 지금은 name=\"keyword\" 라고 되어있음.\n  let videos = [];\n  if (keyword) {\n    videos = await Video.find({\n      title: {\n        $regex: new RegExp(keyword, \"i\"), //title에 검색된 keyword 들어있는거 걸러달라고\n      },\n    }).populate(\"owner\");\n  }\n  return res.render(\"search\", {\n    pageTitle: \"Search\",\n    videos,\n  });\n};\n\nexport const registerView = async (req, res) => {\n  const { id } = req.params;\n  const video = await Video.findById(id);\n  if (!video) {\n    return res.sendStatus(404);\n  }\n  video.meta.views = video.meta.views + 1;\n  await video.save();\n  return res.sendStatus(200);\n};\n\nexport const createComment = async (req, res) => {\n  const {\n    session: { user },\n    body: { text },\n    params: { id },\n  } = req;\n\n  const video = await Video.findById(id);\n  if (!video) {\n    return res.sendStatus(404);\n  }\n\n  const comment = await Comment.create({\n    text,\n    owner: user._id,\n    video: id,\n  });\n\n  // console.log(user, text, id);\n  // console.log(req.params);\n  // console.log(req.body.text);\n  // console.log(req.session.user);\n\n  video.comments.push(comment._id);\n  video.save();\n  return res.status(201).json({ newCommentId: comment._id });\n};\n\n//댓글 삭제 테스트\nexport const deleteComment = async (req, res) => {\n  // const {\n  //   session: { user },\n  //   params: { id },\n  // } = req;\n\n  // const video = await Video.findById(id);\n  // if (!video) {\n  //   return res.sendStatus(404);\n  // }\n\n  // const comment = await Comment.findByIdAndDelete({\n  //   owner: user._id,\n  //   video: id,\n  // });\n\n  // video.comments.pull(comment._id);\n  // video.save();\n  // return res.sendStatus(200);\n\n  const {\n    session: {\n      user: { _id },\n    },\n    params: { commentId },\n  } = req;\n\n  const comment = await Comment.findById(commentId).populate(\"owner\");\n\n  const videoId = comment.video;\n  if (String(_id) !== String(comment.owner._id)) {\n    return res.sendStatus(404);\n  }\n\n  const video = await Video.findById(videoId);\n  if (!video) {\n    return res.sendStatus(404);\n  }\n\n  video.comments.splice(video.comments.indexOf(commentId), 1);\n  await video.save();\n  await Comment.findByIdAndDelete(commentId);\n\n  return res.sendStatus(200);\n};\n"],"mappings":"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"}},"mtime":1685437870459},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jane/Desktop/파카/develop_projects/wetube/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jane/Desktop/파카/develop_projects/wetube\",\"filename\":\"/Users/jane/Desktop/파카/develop_projects/wetube/src/middlewares.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jane/Desktop/파카/develop_projects/wetube\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.videoUpload = exports.publicOnlyMiddleware = exports.protectorMiddleware = exports.localsMiddleware = exports.avatarUpload = void 0;\nvar _multer = _interopRequireDefault(require(\"multer\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar localsMiddleware = function localsMiddleware(req, res, next) {\n  res.locals.loggedIn = Boolean(req.session.loggedIn);\n  res.locals.siteName = \"Wetube\";\n  res.locals.loggedInUser = req.session.user || {};\n  next();\n};\nexports.localsMiddleware = localsMiddleware;\nvar protectorMiddleware = function protectorMiddleware(req, res, next) {\n  if (req.session.loggedIn) {\n    return next();\n  } else {\n    req.flash(\"error\", \"Log in first.\");\n    return res.redirect(\"/login\");\n  }\n};\nexports.protectorMiddleware = protectorMiddleware;\nvar publicOnlyMiddleware = function publicOnlyMiddleware(req, res, next) {\n  if (!req.session.loggedIn) {\n    return next();\n  } else {\n    req.flash(\"error\", \"Not authorized\");\n    return res.redirect(\"/\");\n  }\n};\nexports.publicOnlyMiddleware = publicOnlyMiddleware;\nvar avatarUpload = (0, _multer[\"default\"])({\n  dest: \"uploads/avatars\",\n  limits: {\n    fileSize: 3000000\n  }\n});\nexports.avatarUpload = avatarUpload;\nvar videoUpload = (0, _multer[\"default\"])({\n  dest: \"uploads/videos\",\n  limits: {\n    fileSize: 10000000\n  }\n});\nexports.videoUpload = videoUpload;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJsb2NhbHNNaWRkbGV3YXJlIiwicmVxIiwicmVzIiwibmV4dCIsImxvY2FscyIsImxvZ2dlZEluIiwiQm9vbGVhbiIsInNlc3Npb24iLCJzaXRlTmFtZSIsImxvZ2dlZEluVXNlciIsInVzZXIiLCJwcm90ZWN0b3JNaWRkbGV3YXJlIiwiZmxhc2giLCJyZWRpcmVjdCIsInB1YmxpY09ubHlNaWRkbGV3YXJlIiwiYXZhdGFyVXBsb2FkIiwibXVsdGVyIiwiZGVzdCIsImxpbWl0cyIsImZpbGVTaXplIiwidmlkZW9VcGxvYWQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9qYW5lL0Rlc2t0b3Av4YSR4YWh4YSP4YWhL2RldmVsb3BfcHJvamVjdHMvd2V0dWJlL3NyYy8iLCJzb3VyY2VzIjpbIm1pZGRsZXdhcmVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtdWx0ZXIgZnJvbSBcIm11bHRlclwiO1xuXG5leHBvcnQgY29uc3QgbG9jYWxzTWlkZGxld2FyZSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICByZXMubG9jYWxzLmxvZ2dlZEluID0gQm9vbGVhbihyZXEuc2Vzc2lvbi5sb2dnZWRJbik7XG4gIHJlcy5sb2NhbHMuc2l0ZU5hbWUgPSBcIldldHViZVwiO1xuICByZXMubG9jYWxzLmxvZ2dlZEluVXNlciA9IHJlcS5zZXNzaW9uLnVzZXIgfHwge307XG4gIG5leHQoKTtcbn07XG5cbmV4cG9ydCBjb25zdCBwcm90ZWN0b3JNaWRkbGV3YXJlID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGlmIChyZXEuc2Vzc2lvbi5sb2dnZWRJbikge1xuICAgIHJldHVybiBuZXh0KCk7XG4gIH0gZWxzZSB7XG4gICAgcmVxLmZsYXNoKFwiZXJyb3JcIiwgXCJMb2cgaW4gZmlyc3QuXCIpO1xuICAgIHJldHVybiByZXMucmVkaXJlY3QoXCIvbG9naW5cIik7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBwdWJsaWNPbmx5TWlkZGxld2FyZSA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBpZiAoIXJlcS5zZXNzaW9uLmxvZ2dlZEluKSB7XG4gICAgcmV0dXJuIG5leHQoKTtcbiAgfSBlbHNlIHtcbiAgICByZXEuZmxhc2goXCJlcnJvclwiLCBcIk5vdCBhdXRob3JpemVkXCIpO1xuICAgIHJldHVybiByZXMucmVkaXJlY3QoXCIvXCIpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgYXZhdGFyVXBsb2FkID0gbXVsdGVyKHtcbiAgZGVzdDogXCJ1cGxvYWRzL2F2YXRhcnNcIixcbiAgbGltaXRzOiB7XG4gICAgZmlsZVNpemU6IDMwMDAwMDAsXG4gIH0sXG59KTtcbmV4cG9ydCBjb25zdCB2aWRlb1VwbG9hZCA9IG11bHRlcih7XG4gIGRlc3Q6IFwidXBsb2Fkcy92aWRlb3NcIixcbiAgbGltaXRzOiB7XG4gICAgZmlsZVNpemU6IDEwMDAwMDAwLFxuICB9LFxufSk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQTRCO0FBRXJCLElBQU1BLGdCQUFnQixHQUFHLFNBQW5CQSxnQkFBZ0IsQ0FBSUMsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksRUFBSztFQUNsREQsR0FBRyxDQUFDRSxNQUFNLENBQUNDLFFBQVEsR0FBR0MsT0FBTyxDQUFDTCxHQUFHLENBQUNNLE9BQU8sQ0FBQ0YsUUFBUSxDQUFDO0VBQ25ESCxHQUFHLENBQUNFLE1BQU0sQ0FBQ0ksUUFBUSxHQUFHLFFBQVE7RUFDOUJOLEdBQUcsQ0FBQ0UsTUFBTSxDQUFDSyxZQUFZLEdBQUdSLEdBQUcsQ0FBQ00sT0FBTyxDQUFDRyxJQUFJLElBQUksQ0FBQyxDQUFDO0VBQ2hEUCxJQUFJLEVBQUU7QUFDUixDQUFDO0FBQUM7QUFFSyxJQUFNUSxtQkFBbUIsR0FBRyxTQUF0QkEsbUJBQW1CLENBQUlWLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEVBQUs7RUFDckQsSUFBSUYsR0FBRyxDQUFDTSxPQUFPLENBQUNGLFFBQVEsRUFBRTtJQUN4QixPQUFPRixJQUFJLEVBQUU7RUFDZixDQUFDLE1BQU07SUFDTEYsR0FBRyxDQUFDVyxLQUFLLENBQUMsT0FBTyxFQUFFLGVBQWUsQ0FBQztJQUNuQyxPQUFPVixHQUFHLENBQUNXLFFBQVEsQ0FBQyxRQUFRLENBQUM7RUFDL0I7QUFDRixDQUFDO0FBQUM7QUFFSyxJQUFNQyxvQkFBb0IsR0FBRyxTQUF2QkEsb0JBQW9CLENBQUliLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEVBQUs7RUFDdEQsSUFBSSxDQUFDRixHQUFHLENBQUNNLE9BQU8sQ0FBQ0YsUUFBUSxFQUFFO0lBQ3pCLE9BQU9GLElBQUksRUFBRTtFQUNmLENBQUMsTUFBTTtJQUNMRixHQUFHLENBQUNXLEtBQUssQ0FBQyxPQUFPLEVBQUUsZ0JBQWdCLENBQUM7SUFDcEMsT0FBT1YsR0FBRyxDQUFDVyxRQUFRLENBQUMsR0FBRyxDQUFDO0VBQzFCO0FBQ0YsQ0FBQztBQUFDO0FBRUssSUFBTUUsWUFBWSxHQUFHLElBQUFDLGtCQUFNLEVBQUM7RUFDakNDLElBQUksRUFBRSxpQkFBaUI7RUFDdkJDLE1BQU0sRUFBRTtJQUNOQyxRQUFRLEVBQUU7RUFDWjtBQUNGLENBQUMsQ0FBQztBQUFDO0FBQ0ksSUFBTUMsV0FBVyxHQUFHLElBQUFKLGtCQUFNLEVBQUM7RUFDaENDLElBQUksRUFBRSxnQkFBZ0I7RUFDdEJDLE1BQU0sRUFBRTtJQUNOQyxRQUFRLEVBQUU7RUFDWjtBQUNGLENBQUMsQ0FBQztBQUFDIn0=","map":{"version":3,"names":["localsMiddleware","req","res","next","locals","loggedIn","Boolean","session","siteName","loggedInUser","user","protectorMiddleware","flash","redirect","publicOnlyMiddleware","avatarUpload","multer","dest","limits","fileSize","videoUpload"],"sourceRoot":"/Users/jane/Desktop/파카/develop_projects/wetube/src/","sources":["middlewares.js"],"sourcesContent":["import multer from \"multer\";\n\nexport const localsMiddleware = (req, res, next) => {\n  res.locals.loggedIn = Boolean(req.session.loggedIn);\n  res.locals.siteName = \"Wetube\";\n  res.locals.loggedInUser = req.session.user || {};\n  next();\n};\n\nexport const protectorMiddleware = (req, res, next) => {\n  if (req.session.loggedIn) {\n    return next();\n  } else {\n    req.flash(\"error\", \"Log in first.\");\n    return res.redirect(\"/login\");\n  }\n};\n\nexport const publicOnlyMiddleware = (req, res, next) => {\n  if (!req.session.loggedIn) {\n    return next();\n  } else {\n    req.flash(\"error\", \"Not authorized\");\n    return res.redirect(\"/\");\n  }\n};\n\nexport const avatarUpload = multer({\n  dest: \"uploads/avatars\",\n  limits: {\n    fileSize: 3000000,\n  },\n});\nexport const videoUpload = multer({\n  dest: \"uploads/videos\",\n  limits: {\n    fileSize: 10000000,\n  },\n});\n"],"mappings":";;;;;;AAAA;AAA4B;AAErB,IAAMA,gBAAgB,GAAG,SAAnBA,gBAAgB,CAAIC,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAK;EAClDD,GAAG,CAACE,MAAM,CAACC,QAAQ,GAAGC,OAAO,CAACL,GAAG,CAACM,OAAO,CAACF,QAAQ,CAAC;EACnDH,GAAG,CAACE,MAAM,CAACI,QAAQ,GAAG,QAAQ;EAC9BN,GAAG,CAACE,MAAM,CAACK,YAAY,GAAGR,GAAG,CAACM,OAAO,CAACG,IAAI,IAAI,CAAC,CAAC;EAChDP,IAAI,EAAE;AACR,CAAC;AAAC;AAEK,IAAMQ,mBAAmB,GAAG,SAAtBA,mBAAmB,CAAIV,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAK;EACrD,IAAIF,GAAG,CAACM,OAAO,CAACF,QAAQ,EAAE;IACxB,OAAOF,IAAI,EAAE;EACf,CAAC,MAAM;IACLF,GAAG,CAACW,KAAK,CAAC,OAAO,EAAE,eAAe,CAAC;IACnC,OAAOV,GAAG,CAACW,QAAQ,CAAC,QAAQ,CAAC;EAC/B;AACF,CAAC;AAAC;AAEK,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAoB,CAAIb,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAK;EACtD,IAAI,CAACF,GAAG,CAACM,OAAO,CAACF,QAAQ,EAAE;IACzB,OAAOF,IAAI,EAAE;EACf,CAAC,MAAM;IACLF,GAAG,CAACW,KAAK,CAAC,OAAO,EAAE,gBAAgB,CAAC;IACpC,OAAOV,GAAG,CAACW,QAAQ,CAAC,GAAG,CAAC;EAC1B;AACF,CAAC;AAAC;AAEK,IAAME,YAAY,GAAG,IAAAC,kBAAM,EAAC;EACjCC,IAAI,EAAE,iBAAiB;EACvBC,MAAM,EAAE;IACNC,QAAQ,EAAE;EACZ;AACF,CAAC,CAAC;AAAC;AACI,IAAMC,WAAW,GAAG,IAAAJ,kBAAM,EAAC;EAChCC,IAAI,EAAE,gBAAgB;EACtBC,MAAM,EAAE;IACNC,QAAQ,EAAE;EACZ;AACF,CAAC,CAAC;AAAC"}},"mtime":1683016300335},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jane/Desktop/파카/develop_projects/wetube/src/routers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jane/Desktop/파카/develop_projects/wetube\",\"filename\":\"/Users/jane/Desktop/파카/develop_projects/wetube/src/routers/videoRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jane/Desktop/파카/develop_projects/wetube\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _videoController = require(\"../controllers/videoController\");\nvar _middlewares = require(\"../middlewares\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar videoRouter = _express[\"default\"].Router();\nvideoRouter.get(\"/:id([0-9a-f]{24})\", _videoController.watch);\nvideoRouter.route(\"/:id([0-9a-f]{24})/edit\").all(_middlewares.protectorMiddleware).get(_videoController.getEdit).post(_videoController.postEdit);\nvideoRouter.route(\"/:id([0-9a-f]{24})/delete\").all(_middlewares.protectorMiddleware).get(_videoController.deleteVideo);\nvideoRouter.route(\"/upload\").all(_middlewares.protectorMiddleware).get(_videoController.getUpload).post(_middlewares.videoUpload.fields([{\n  name: \"video\"\n}, {\n  name: \"thumb\"\n}]), _videoController.postUpload); //:id 부분에 정규표현식으로 걸러낼꺼 아니면 얘는 맨 위로 안올려주면 id로 인식되서 페이지 오류남 / 지금은 정규표현식 넣어줬으니 여기 있어도 괜춚\nvar _default = videoRouter;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2aWRlb1JvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnZXQiLCJ3YXRjaCIsInJvdXRlIiwiYWxsIiwicHJvdGVjdG9yTWlkZGxld2FyZSIsImdldEVkaXQiLCJwb3N0IiwicG9zdEVkaXQiLCJkZWxldGVWaWRlbyIsImdldFVwbG9hZCIsInZpZGVvVXBsb2FkIiwiZmllbGRzIiwibmFtZSIsInBvc3RVcGxvYWQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9qYW5lL0Rlc2t0b3Av4YSR4YWh4YSP4YWhL2RldmVsb3BfcHJvamVjdHMvd2V0dWJlL3NyYy9yb3V0ZXJzLyIsInNvdXJjZXMiOlsidmlkZW9Sb3V0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCB7XG4gIHdhdGNoLFxuICBnZXRFZGl0LFxuICBwb3N0RWRpdCxcbiAgZ2V0VXBsb2FkLFxuICBwb3N0VXBsb2FkLFxuICBkZWxldGVWaWRlbyxcbn0gZnJvbSBcIi4uL2NvbnRyb2xsZXJzL3ZpZGVvQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgcHJvdGVjdG9yTWlkZGxld2FyZSwgdmlkZW9VcGxvYWQgfSBmcm9tIFwiLi4vbWlkZGxld2FyZXNcIjtcblxuY29uc3QgdmlkZW9Sb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG52aWRlb1JvdXRlci5nZXQoXCIvOmlkKFswLTlhLWZdezI0fSlcIiwgd2F0Y2gpO1xudmlkZW9Sb3V0ZXJcbiAgLnJvdXRlKFwiLzppZChbMC05YS1mXXsyNH0pL2VkaXRcIilcbiAgLmFsbChwcm90ZWN0b3JNaWRkbGV3YXJlKVxuICAuZ2V0KGdldEVkaXQpXG4gIC5wb3N0KHBvc3RFZGl0KTtcbnZpZGVvUm91dGVyXG4gIC5yb3V0ZShcIi86aWQoWzAtOWEtZl17MjR9KS9kZWxldGVcIilcbiAgLmFsbChwcm90ZWN0b3JNaWRkbGV3YXJlKVxuICAuZ2V0KGRlbGV0ZVZpZGVvKTtcbnZpZGVvUm91dGVyXG4gIC5yb3V0ZShcIi91cGxvYWRcIilcbiAgLmFsbChwcm90ZWN0b3JNaWRkbGV3YXJlKVxuICAuZ2V0KGdldFVwbG9hZClcbiAgLnBvc3QodmlkZW9VcGxvYWQuZmllbGRzKFt7IG5hbWU6IFwidmlkZW9cIiB9LCB7IG5hbWU6IFwidGh1bWJcIiB9XSksIHBvc3RVcGxvYWQpOyAvLzppZCDrtoDrtoTsl5Ag7KCV6rec7ZGc7ZiE7Iud7Jy866GcIOqxuOufrOuCvOq6vCDslYTri4jrqbQg7JaY64qUIOunqCDsnITroZwg7JWI7Jis66Ck7KO866m0IGlk66GcIOyduOyLneuQmOyEnCDtjpjsnbTsp4Ag7Jik66WY64KoIC8g7KeA6riI7J2AIOygleq3nO2RnO2YhOyLnSDrhKPslrTspKzsnLzri4gg7Jes6riwIOyeiOyWtOuPhCDqtJzstppcblxuZXhwb3J0IGRlZmF1bHQgdmlkZW9Sb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFRQTtBQUFrRTtBQUVsRSxJQUFNQSxXQUFXLEdBQUdDLG1CQUFPLENBQUNDLE1BQU0sRUFBRTtBQUVwQ0YsV0FBVyxDQUFDRyxHQUFHLENBQUMsb0JBQW9CLEVBQUVDLHNCQUFLLENBQUM7QUFDNUNKLFdBQVcsQ0FDUkssS0FBSyxDQUFDLHlCQUF5QixDQUFDLENBQ2hDQyxHQUFHLENBQUNDLGdDQUFtQixDQUFDLENBQ3hCSixHQUFHLENBQUNLLHdCQUFPLENBQUMsQ0FDWkMsSUFBSSxDQUFDQyx5QkFBUSxDQUFDO0FBQ2pCVixXQUFXLENBQ1JLLEtBQUssQ0FBQywyQkFBMkIsQ0FBQyxDQUNsQ0MsR0FBRyxDQUFDQyxnQ0FBbUIsQ0FBQyxDQUN4QkosR0FBRyxDQUFDUSw0QkFBVyxDQUFDO0FBQ25CWCxXQUFXLENBQ1JLLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FDaEJDLEdBQUcsQ0FBQ0MsZ0NBQW1CLENBQUMsQ0FDeEJKLEdBQUcsQ0FBQ1MsMEJBQVMsQ0FBQyxDQUNkSCxJQUFJLENBQUNJLHdCQUFXLENBQUNDLE1BQU0sQ0FBQyxDQUFDO0VBQUVDLElBQUksRUFBRTtBQUFRLENBQUMsRUFBRTtFQUFFQSxJQUFJLEVBQUU7QUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFQywyQkFBVSxDQUFDLENBQUMsQ0FBQztBQUFBLGVBRWxFaEIsV0FBVztBQUFBIn0=","map":{"version":3,"names":["videoRouter","express","Router","get","watch","route","all","protectorMiddleware","getEdit","post","postEdit","deleteVideo","getUpload","videoUpload","fields","name","postUpload"],"sourceRoot":"/Users/jane/Desktop/파카/develop_projects/wetube/src/routers/","sources":["videoRouter.js"],"sourcesContent":["import express from \"express\";\nimport {\n  watch,\n  getEdit,\n  postEdit,\n  getUpload,\n  postUpload,\n  deleteVideo,\n} from \"../controllers/videoController\";\nimport { protectorMiddleware, videoUpload } from \"../middlewares\";\n\nconst videoRouter = express.Router();\n\nvideoRouter.get(\"/:id([0-9a-f]{24})\", watch);\nvideoRouter\n  .route(\"/:id([0-9a-f]{24})/edit\")\n  .all(protectorMiddleware)\n  .get(getEdit)\n  .post(postEdit);\nvideoRouter\n  .route(\"/:id([0-9a-f]{24})/delete\")\n  .all(protectorMiddleware)\n  .get(deleteVideo);\nvideoRouter\n  .route(\"/upload\")\n  .all(protectorMiddleware)\n  .get(getUpload)\n  .post(videoUpload.fields([{ name: \"video\" }, { name: \"thumb\" }]), postUpload); //:id 부분에 정규표현식으로 걸러낼꺼 아니면 얘는 맨 위로 안올려주면 id로 인식되서 페이지 오류남 / 지금은 정규표현식 넣어줬으니 여기 있어도 괜춚\n\nexport default videoRouter;\n"],"mappings":";;;;;;AAAA;AACA;AAQA;AAAkE;AAElE,IAAMA,WAAW,GAAGC,mBAAO,CAACC,MAAM,EAAE;AAEpCF,WAAW,CAACG,GAAG,CAAC,oBAAoB,EAAEC,sBAAK,CAAC;AAC5CJ,WAAW,CACRK,KAAK,CAAC,yBAAyB,CAAC,CAChCC,GAAG,CAACC,gCAAmB,CAAC,CACxBJ,GAAG,CAACK,wBAAO,CAAC,CACZC,IAAI,CAACC,yBAAQ,CAAC;AACjBV,WAAW,CACRK,KAAK,CAAC,2BAA2B,CAAC,CAClCC,GAAG,CAACC,gCAAmB,CAAC,CACxBJ,GAAG,CAACQ,4BAAW,CAAC;AACnBX,WAAW,CACRK,KAAK,CAAC,SAAS,CAAC,CAChBC,GAAG,CAACC,gCAAmB,CAAC,CACxBJ,GAAG,CAACS,0BAAS,CAAC,CACdH,IAAI,CAACI,wBAAW,CAACC,MAAM,CAAC,CAAC;EAAEC,IAAI,EAAE;AAAQ,CAAC,EAAE;EAAEA,IAAI,EAAE;AAAQ,CAAC,CAAC,CAAC,EAAEC,2BAAU,CAAC,CAAC,CAAC;AAAA,eAElEhB,WAAW;AAAA"}},"mtime":1681803932014},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jane/Desktop/파카/develop_projects/wetube/src/routers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jane/Desktop/파카/develop_projects/wetube\",\"filename\":\"/Users/jane/Desktop/파카/develop_projects/wetube/src/routers/userRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jane/Desktop/파카/develop_projects/wetube\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _userController = require(\"../controllers/userController\");\nvar _middlewares = require(\"../middlewares\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar userRouter = _express[\"default\"].Router();\nuserRouter.get(\"/logout\", _middlewares.protectorMiddleware, _userController.logout);\nuserRouter.route(\"/edit\").all(_middlewares.protectorMiddleware).get(_userController.getEdit).post(_middlewares.avatarUpload.single(\"avatar\"), _userController.postEdit);\nuserRouter.get(\"/github/start\", _middlewares.publicOnlyMiddleware, _userController.startGithubLogin);\nuserRouter.get(\"/github/finish\", _middlewares.publicOnlyMiddleware, _userController.finishGithubLogin);\nuserRouter.route(\"/change-password\").all(_middlewares.protectorMiddleware).get(_userController.getChangePassword).post(_userController.postChangePassword);\nuserRouter.get(\"/:id\", _userController.see);\nvar _default = userRouter;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsInByb3RlY3Rvck1pZGRsZXdhcmUiLCJsb2dvdXQiLCJyb3V0ZSIsImFsbCIsImdldEVkaXQiLCJwb3N0IiwiYXZhdGFyVXBsb2FkIiwic2luZ2xlIiwicG9zdEVkaXQiLCJwdWJsaWNPbmx5TWlkZGxld2FyZSIsInN0YXJ0R2l0aHViTG9naW4iLCJmaW5pc2hHaXRodWJMb2dpbiIsImdldENoYW5nZVBhc3N3b3JkIiwicG9zdENoYW5nZVBhc3N3b3JkIiwic2VlIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvamFuZS9EZXNrdG9wL+GEkeGFoeGEj+GFoS9kZXZlbG9wX3Byb2plY3RzL3dldHViZS9zcmMvcm91dGVycy8iLCJzb3VyY2VzIjpbInVzZXJSb3V0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCB7XG4gIGxvZ291dCxcbiAgc2VlLFxuICBzdGFydEdpdGh1YkxvZ2luLFxuICBmaW5pc2hHaXRodWJMb2dpbixcbiAgZ2V0RWRpdCxcbiAgcG9zdEVkaXQsXG4gIGdldENoYW5nZVBhc3N3b3JkLFxuICBwb3N0Q2hhbmdlUGFzc3dvcmQsXG59IGZyb20gXCIuLi9jb250cm9sbGVycy91c2VyQ29udHJvbGxlclwiO1xuaW1wb3J0IHtcbiAgcHJvdGVjdG9yTWlkZGxld2FyZSxcbiAgcHVibGljT25seU1pZGRsZXdhcmUsXG4gIGF2YXRhclVwbG9hZCxcbn0gZnJvbSBcIi4uL21pZGRsZXdhcmVzXCI7XG5cbmNvbnN0IHVzZXJSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG51c2VyUm91dGVyLmdldChcIi9sb2dvdXRcIiwgcHJvdGVjdG9yTWlkZGxld2FyZSwgbG9nb3V0KTtcbnVzZXJSb3V0ZXJcbiAgLnJvdXRlKFwiL2VkaXRcIilcbiAgLmFsbChwcm90ZWN0b3JNaWRkbGV3YXJlKVxuICAuZ2V0KGdldEVkaXQpXG4gIC5wb3N0KGF2YXRhclVwbG9hZC5zaW5nbGUoXCJhdmF0YXJcIiksIHBvc3RFZGl0KTtcbnVzZXJSb3V0ZXIuZ2V0KFwiL2dpdGh1Yi9zdGFydFwiLCBwdWJsaWNPbmx5TWlkZGxld2FyZSwgc3RhcnRHaXRodWJMb2dpbik7XG51c2VyUm91dGVyLmdldChcIi9naXRodWIvZmluaXNoXCIsIHB1YmxpY09ubHlNaWRkbGV3YXJlLCBmaW5pc2hHaXRodWJMb2dpbik7XG51c2VyUm91dGVyXG4gIC5yb3V0ZShcIi9jaGFuZ2UtcGFzc3dvcmRcIilcbiAgLmFsbChwcm90ZWN0b3JNaWRkbGV3YXJlKVxuICAuZ2V0KGdldENoYW5nZVBhc3N3b3JkKVxuICAucG9zdChwb3N0Q2hhbmdlUGFzc3dvcmQpO1xuXG51c2VyUm91dGVyLmdldChcIi86aWRcIiwgc2VlKTtcblxuZXhwb3J0IGRlZmF1bHQgdXNlclJvdXRlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQVVBO0FBSXdCO0FBRXhCLElBQU1BLFVBQVUsR0FBR0MsbUJBQU8sQ0FBQ0MsTUFBTSxFQUFFO0FBRW5DRixVQUFVLENBQUNHLEdBQUcsQ0FBQyxTQUFTLEVBQUVDLGdDQUFtQixFQUFFQyxzQkFBTSxDQUFDO0FBQ3RETCxVQUFVLENBQ1BNLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FDZEMsR0FBRyxDQUFDSCxnQ0FBbUIsQ0FBQyxDQUN4QkQsR0FBRyxDQUFDSyx1QkFBTyxDQUFDLENBQ1pDLElBQUksQ0FBQ0MseUJBQVksQ0FBQ0MsTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFQyx3QkFBUSxDQUFDO0FBQ2hEWixVQUFVLENBQUNHLEdBQUcsQ0FBQyxlQUFlLEVBQUVVLGlDQUFvQixFQUFFQyxnQ0FBZ0IsQ0FBQztBQUN2RWQsVUFBVSxDQUFDRyxHQUFHLENBQUMsZ0JBQWdCLEVBQUVVLGlDQUFvQixFQUFFRSxpQ0FBaUIsQ0FBQztBQUN6RWYsVUFBVSxDQUNQTSxLQUFLLENBQUMsa0JBQWtCLENBQUMsQ0FDekJDLEdBQUcsQ0FBQ0gsZ0NBQW1CLENBQUMsQ0FDeEJELEdBQUcsQ0FBQ2EsaUNBQWlCLENBQUMsQ0FDdEJQLElBQUksQ0FBQ1Esa0NBQWtCLENBQUM7QUFFM0JqQixVQUFVLENBQUNHLEdBQUcsQ0FBQyxNQUFNLEVBQUVlLG1CQUFHLENBQUM7QUFBQyxlQUVibEIsVUFBVTtBQUFBIn0=","map":{"version":3,"names":["userRouter","express","Router","get","protectorMiddleware","logout","route","all","getEdit","post","avatarUpload","single","postEdit","publicOnlyMiddleware","startGithubLogin","finishGithubLogin","getChangePassword","postChangePassword","see"],"sourceRoot":"/Users/jane/Desktop/파카/develop_projects/wetube/src/routers/","sources":["userRouter.js"],"sourcesContent":["import express from \"express\";\nimport {\n  logout,\n  see,\n  startGithubLogin,\n  finishGithubLogin,\n  getEdit,\n  postEdit,\n  getChangePassword,\n  postChangePassword,\n} from \"../controllers/userController\";\nimport {\n  protectorMiddleware,\n  publicOnlyMiddleware,\n  avatarUpload,\n} from \"../middlewares\";\n\nconst userRouter = express.Router();\n\nuserRouter.get(\"/logout\", protectorMiddleware, logout);\nuserRouter\n  .route(\"/edit\")\n  .all(protectorMiddleware)\n  .get(getEdit)\n  .post(avatarUpload.single(\"avatar\"), postEdit);\nuserRouter.get(\"/github/start\", publicOnlyMiddleware, startGithubLogin);\nuserRouter.get(\"/github/finish\", publicOnlyMiddleware, finishGithubLogin);\nuserRouter\n  .route(\"/change-password\")\n  .all(protectorMiddleware)\n  .get(getChangePassword)\n  .post(postChangePassword);\n\nuserRouter.get(\"/:id\", see);\n\nexport default userRouter;\n"],"mappings":";;;;;;AAAA;AACA;AAUA;AAIwB;AAExB,IAAMA,UAAU,GAAGC,mBAAO,CAACC,MAAM,EAAE;AAEnCF,UAAU,CAACG,GAAG,CAAC,SAAS,EAAEC,gCAAmB,EAAEC,sBAAM,CAAC;AACtDL,UAAU,CACPM,KAAK,CAAC,OAAO,CAAC,CACdC,GAAG,CAACH,gCAAmB,CAAC,CACxBD,GAAG,CAACK,uBAAO,CAAC,CACZC,IAAI,CAACC,yBAAY,CAACC,MAAM,CAAC,QAAQ,CAAC,EAAEC,wBAAQ,CAAC;AAChDZ,UAAU,CAACG,GAAG,CAAC,eAAe,EAAEU,iCAAoB,EAAEC,gCAAgB,CAAC;AACvEd,UAAU,CAACG,GAAG,CAAC,gBAAgB,EAAEU,iCAAoB,EAAEE,iCAAiB,CAAC;AACzEf,UAAU,CACPM,KAAK,CAAC,kBAAkB,CAAC,CACzBC,GAAG,CAACH,gCAAmB,CAAC,CACxBD,GAAG,CAACa,iCAAiB,CAAC,CACtBP,IAAI,CAACQ,kCAAkB,CAAC;AAE3BjB,UAAU,CAACG,GAAG,CAAC,MAAM,EAAEe,mBAAG,CAAC;AAAC,eAEblB,UAAU;AAAA"}},"mtime":1678863110486},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jane/Desktop/파카/develop_projects/wetube/src/routers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jane/Desktop/파카/develop_projects/wetube\",\"filename\":\"/Users/jane/Desktop/파카/develop_projects/wetube/src/routers/apiRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jane/Desktop/파카/develop_projects/wetube\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _videoController = require(\"../controllers/videoController\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar apiRouter = _express[\"default\"].Router();\napiRouter.post(\"/videos/:id([0-9a-f]{24})/view\", _videoController.registerView);\napiRouter.post(\"/videos/:id([0-9a-f]{24})/comment\", _videoController.createComment);\n// fetch(`/api/videos/${videoId}/comment`, {\n// apiRouter.delete(\"/comments/:id([0-9a-z]{24})/delete\", deleteComment);\napiRouter[\"delete\"](\"/comments/:commentId([0-9a-f]{24})/delete\", _videoController.deleteComment);\n// fetch(`/api/comments/${commentId}`, {\nvar _default = apiRouter;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhcGlSb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicG9zdCIsInJlZ2lzdGVyVmlldyIsImNyZWF0ZUNvbW1lbnQiLCJkZWxldGVDb21tZW50Il0sInNvdXJjZVJvb3QiOiIvVXNlcnMvamFuZS9EZXNrdG9wL+GEkeGFoeGEj+GFoS9kZXZlbG9wX3Byb2plY3RzL3dldHViZS9zcmMvcm91dGVycy8iLCJzb3VyY2VzIjpbImFwaVJvdXRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IHtcbiAgcmVnaXN0ZXJWaWV3LFxuICBjcmVhdGVDb21tZW50LFxuICBkZWxldGVDb21tZW50LFxufSBmcm9tIFwiLi4vY29udHJvbGxlcnMvdmlkZW9Db250cm9sbGVyXCI7XG5cbmNvbnN0IGFwaVJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbmFwaVJvdXRlci5wb3N0KFwiL3ZpZGVvcy86aWQoWzAtOWEtZl17MjR9KS92aWV3XCIsIHJlZ2lzdGVyVmlldyk7XG5hcGlSb3V0ZXIucG9zdChcIi92aWRlb3MvOmlkKFswLTlhLWZdezI0fSkvY29tbWVudFwiLCBjcmVhdGVDb21tZW50KTtcbi8vIGZldGNoKGAvYXBpL3ZpZGVvcy8ke3ZpZGVvSWR9L2NvbW1lbnRgLCB7XG4vLyBhcGlSb3V0ZXIuZGVsZXRlKFwiL2NvbW1lbnRzLzppZChbMC05YS16XXsyNH0pL2RlbGV0ZVwiLCBkZWxldGVDb21tZW50KTtcbmFwaVJvdXRlci5kZWxldGUoXCIvY29tbWVudHMvOmNvbW1lbnRJZChbMC05YS1mXXsyNH0pL2RlbGV0ZVwiLCBkZWxldGVDb21tZW50KTtcbi8vIGZldGNoKGAvYXBpL2NvbW1lbnRzLyR7Y29tbWVudElkfWAsIHtcblxuZXhwb3J0IGRlZmF1bHQgYXBpUm91dGVyO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBSXdDO0FBRXhDLElBQU1BLFNBQVMsR0FBR0MsbUJBQU8sQ0FBQ0MsTUFBTSxFQUFFO0FBRWxDRixTQUFTLENBQUNHLElBQUksQ0FBQyxnQ0FBZ0MsRUFBRUMsNkJBQVksQ0FBQztBQUM5REosU0FBUyxDQUFDRyxJQUFJLENBQUMsbUNBQW1DLEVBQUVFLDhCQUFhLENBQUM7QUFDbEU7QUFDQTtBQUNBTCxTQUFTLFVBQU8sQ0FBQywyQ0FBMkMsRUFBRU0sOEJBQWEsQ0FBQztBQUM1RTtBQUFBLGVBRWVOLFNBQVM7QUFBQSJ9","map":{"version":3,"names":["apiRouter","express","Router","post","registerView","createComment","deleteComment"],"sourceRoot":"/Users/jane/Desktop/파카/develop_projects/wetube/src/routers/","sources":["apiRouter.js"],"sourcesContent":["import express from \"express\";\nimport {\n  registerView,\n  createComment,\n  deleteComment,\n} from \"../controllers/videoController\";\n\nconst apiRouter = express.Router();\n\napiRouter.post(\"/videos/:id([0-9a-f]{24})/view\", registerView);\napiRouter.post(\"/videos/:id([0-9a-f]{24})/comment\", createComment);\n// fetch(`/api/videos/${videoId}/comment`, {\n// apiRouter.delete(\"/comments/:id([0-9a-z]{24})/delete\", deleteComment);\napiRouter.delete(\"/comments/:commentId([0-9a-f]{24})/delete\", deleteComment);\n// fetch(`/api/comments/${commentId}`, {\n\nexport default apiRouter;\n"],"mappings":";;;;;;AAAA;AACA;AAIwC;AAExC,IAAMA,SAAS,GAAGC,mBAAO,CAACC,MAAM,EAAE;AAElCF,SAAS,CAACG,IAAI,CAAC,gCAAgC,EAAEC,6BAAY,CAAC;AAC9DJ,SAAS,CAACG,IAAI,CAAC,mCAAmC,EAAEE,8BAAa,CAAC;AAClE;AACA;AACAL,SAAS,UAAO,CAAC,2CAA2C,EAAEM,8BAAa,CAAC;AAC5E;AAAA,eAEeN,SAAS;AAAA"}},"mtime":1685437865141},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jane/Desktop/파카/develop_projects/wetube/src/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jane/Desktop/파카/develop_projects/wetube\",\"filename\":\"/Users/jane/Desktop/파카/develop_projects/wetube/src/models/Comment.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jane/Desktop/파카/develop_projects/wetube\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar commentSchema = new _mongoose[\"default\"].Schema({\n  text: {\n    type: String,\n    required: true\n  },\n  owner: {\n    type: _mongoose[\"default\"].Schema.Types.ObjectId,\n    required: true,\n    ref: \"User\"\n  },\n  video: {\n    type: _mongoose[\"default\"].Schema.Types.ObjectId,\n    required: true,\n    ref: \"Video\"\n  },\n  createdAt: {\n    type: Date,\n    required: true,\n    \"default\": Date.now\n  }\n});\nvar Comment = _mongoose[\"default\"].model(\"Comment\", commentSchema);\nvar _default = Comment;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb21tZW50U2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJ0ZXh0IiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwib3duZXIiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwidmlkZW8iLCJjcmVhdGVkQXQiLCJEYXRlIiwibm93IiwiQ29tbWVudCIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvamFuZS9EZXNrdG9wL+GEkeGFoeGEj+GFoS9kZXZlbG9wX3Byb2plY3RzL3dldHViZS9zcmMvbW9kZWxzLyIsInNvdXJjZXMiOlsiQ29tbWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IGNvbW1lbnRTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgdGV4dDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIG93bmVyOiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVxdWlyZWQ6IHRydWUsIHJlZjogXCJVc2VyXCIgfSxcbiAgdmlkZW86IHsgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZXF1aXJlZDogdHJ1ZSwgcmVmOiBcIlZpZGVvXCIgfSxcbiAgY3JlYXRlZEF0OiB7IHR5cGU6IERhdGUsIHJlcXVpcmVkOiB0cnVlLCBkZWZhdWx0OiBEYXRlLm5vdyB9LFxufSk7XG5cbmNvbnN0IENvbW1lbnQgPSBtb25nb29zZS5tb2RlbChcIkNvbW1lbnRcIiwgY29tbWVudFNjaGVtYSk7XG5cbmV4cG9ydCBkZWZhdWx0IENvbW1lbnQ7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQWdDO0FBRWhDLElBQU1BLGFBQWEsR0FBRyxJQUFJQyxvQkFBUSxDQUFDQyxNQUFNLENBQUM7RUFDeENDLElBQUksRUFBRTtJQUFFQyxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUN0Q0MsS0FBSyxFQUFFO0lBQUVILElBQUksRUFBRUgsb0JBQVEsQ0FBQ0MsTUFBTSxDQUFDTSxLQUFLLENBQUNDLFFBQVE7SUFBRUgsUUFBUSxFQUFFLElBQUk7SUFBRUksR0FBRyxFQUFFO0VBQU8sQ0FBQztFQUM1RUMsS0FBSyxFQUFFO0lBQUVQLElBQUksRUFBRUgsb0JBQVEsQ0FBQ0MsTUFBTSxDQUFDTSxLQUFLLENBQUNDLFFBQVE7SUFBRUgsUUFBUSxFQUFFLElBQUk7SUFBRUksR0FBRyxFQUFFO0VBQVEsQ0FBQztFQUM3RUUsU0FBUyxFQUFFO0lBQUVSLElBQUksRUFBRVMsSUFBSTtJQUFFUCxRQUFRLEVBQUUsSUFBSTtJQUFFLFdBQVNPLElBQUksQ0FBQ0M7RUFBSTtBQUM3RCxDQUFDLENBQUM7QUFFRixJQUFNQyxPQUFPLEdBQUdkLG9CQUFRLENBQUNlLEtBQUssQ0FBQyxTQUFTLEVBQUVoQixhQUFhLENBQUM7QUFBQyxlQUUxQ2UsT0FBTztBQUFBIn0=","map":{"version":3,"names":["commentSchema","mongoose","Schema","text","type","String","required","owner","Types","ObjectId","ref","video","createdAt","Date","now","Comment","model"],"sourceRoot":"/Users/jane/Desktop/파카/develop_projects/wetube/src/models/","sources":["Comment.js"],"sourcesContent":["import mongoose from \"mongoose\";\n\nconst commentSchema = new mongoose.Schema({\n  text: { type: String, required: true },\n  owner: { type: mongoose.Schema.Types.ObjectId, required: true, ref: \"User\" },\n  video: { type: mongoose.Schema.Types.ObjectId, required: true, ref: \"Video\" },\n  createdAt: { type: Date, required: true, default: Date.now },\n});\n\nconst Comment = mongoose.model(\"Comment\", commentSchema);\n\nexport default Comment;\n"],"mappings":";;;;;;AAAA;AAAgC;AAEhC,IAAMA,aAAa,GAAG,IAAIC,oBAAQ,CAACC,MAAM,CAAC;EACxCC,IAAI,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACtCC,KAAK,EAAE;IAAEH,IAAI,EAAEH,oBAAQ,CAACC,MAAM,CAACM,KAAK,CAACC,QAAQ;IAAEH,QAAQ,EAAE,IAAI;IAAEI,GAAG,EAAE;EAAO,CAAC;EAC5EC,KAAK,EAAE;IAAEP,IAAI,EAAEH,oBAAQ,CAACC,MAAM,CAACM,KAAK,CAACC,QAAQ;IAAEH,QAAQ,EAAE,IAAI;IAAEI,GAAG,EAAE;EAAQ,CAAC;EAC7EE,SAAS,EAAE;IAAER,IAAI,EAAES,IAAI;IAAEP,QAAQ,EAAE,IAAI;IAAE,WAASO,IAAI,CAACC;EAAI;AAC7D,CAAC,CAAC;AAEF,IAAMC,OAAO,GAAGd,oBAAQ,CAACe,KAAK,CAAC,SAAS,EAAEhB,aAAa,CAAC;AAAC,eAE1Ce,OAAO;AAAA"}},"mtime":1684913585873}}